<script id="not_logged_in" type="text/html">
<!--
    Description: Login page
    src: templates/auth/login.html
-->

<div id="splashdiv">
    <h3 data-i18n="Log In">Log In</h3>
	<form href="#">
		<div class="clearfix">
			<% if (has('error_msg')) { %>
				<div class="alert alert-block alert-error fade in">
					<a class="close" data-dismiss="alert">&times;</a>
					<p><strong><%= get('error_msg') %></p>
				</div>
			<% } %>
			<% if (!UTILS.Auth.isIDM()) { %>
			<fieldset>
				<div class="clearfix">
					<input class="input-login" type="text" name="username" maxlength="255" placeholder="User Name" />
				</div>
				<div class="clearfix">
					<input class="input-login" id="id_password" type="password"  name="password" maxlength="255" placeholder="Password" />
				</div>
			</fieldset>
			<% } %>
			<button id="home_loginbtn" class="btn btn-blue pull-right credentials" data-i18n="Sign In">Sign In</button>
		</div>
	</form>
</div>
</script>
<script id="addInterfaceToRouterFormTemplate" type="text/html">
<div id="add_interface_router" class="modal hide in" style="display: block; ">
    <!--
    Description: Add Interface to Router Form
    src: templates/forms/addInterfaceToRouter.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Add Interface</h3>
    </div>

    <form id="form" class="" action="" method="">
            <div id="input_gateway" class="tab-pane tab-adjustable active">
                <div class="modal-body clearfix">
                    <div class="left">
                        <fieldset>                      
                            <div class="control-group form-field clearfix">
                                <label for="subnet">Subnet</label>
                                <span class="help-block"></span>
                                <select id="subnet" tabindex="1" class="inline">
                                    <option value="">Select subnet*</option>
                                        <%                                       
                                        for (var i in networks.models) {
                                            var ten_id = networks.models[i].get('tenant_id');   

                                            if ((ten_id == tenant_id || networks.models[i].get('shared') === true) && networks.models[i].get('subnets') !== "") {
                                                var network_name = networks.models[i].get('name') !== "" ? '('+networks.models[i].get('name')+')' : '('+networks.models[i].get('id')+')';
                                                var network_id = networks.models[i].get('id');
                                                for (var j in subnets.models) {
                                                    if (subnets.models[j].get('network_id') == network_id) {
                                                        if (subnets.models[j].get('gateway_ip')) {
                                                            var subnet_name = subnets.models[j].get('name') !== "" ? '('+subnets.models[j].get('name')+')' : '('+subnets.models[j].get('id')+')';
                                                        var subnet_id = subnets.models[j].get('id');   
                                                        var cidr =  subnets.models[j].get('cidr');                             
                                                        var net_cidr_subnet = network_name+': '+cidr+ ' ' +subnet_name;
                                                        }                                      
                                        %>
                                    <option value="<%= subnet_id%>"><%= net_cidr_subnet%></option>
                                    <% }}}}%>
                                </select>
                            </div>
                            <div class="control-group form-field clearfix">
                                <label for="router-name">Router Name</label>
                                <span class="help-block"></span>
                                <p><%= model.get('router').name%></p>
                            </div>
                            <div class="control-group form-field clearfix">
                                <label for="router-id">Router ID</label>
                                <span class="help-block"></span>
                                <p><%= model.get('id')%></p>
                            </div>
                        </fieldset>
                    </div>
                    <div class="right">
                        <h3>Description</h3>
                        <p>
                            You can connect a specified external network to the router. The external network is regarded as a default route of the router and the router acts as a gateway for external connectivity.
                        </p>
                    </div>
                </div>
            </div>
        
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input id="add_interface_router_button"  class="btn btn-blue btn-add-interface-router pull-right" value="Add Interface"/>
            <a id="cancelBtn-interface-router" class="btn secondary cancel close">Cancel</a>
        </div>
    </form>

</script>
<script id="addUserToProjectFormTemplate" type="text/html">
<div id="add_user" class="modal hide ">
    <!--
    Description: Add User To Project Form
    src: templates/forms/addUserToProject.html
    -->
    <div class="modal-header">
        <a id="close" href="#" class="close" data-dismiss="modal">&times;</a>
        <h3>Add User To Project</h3>
    </div>
    <div class="modal-body clearfix">
        <div class="left">
            <fieldset>
            <div class="control-group form-field clearfix">
                <label for="id_role_id">Role</label>

                <span class="help-block" style="display: none;"></span>
                <div class="input">
                  <select name="role_id" id="id_role_id" data-original-title="">
                    <%
                    for (var index in roles.models) {
                        var rol = roles.models[index];
                        %>
                        <option value="<%=rol.get('id')%>"><%=rol.get('name')%></option>
                        <% } %>
            </select>
                </div>
              </div>
            </fieldset>
        </div>
        <div class="right">
        	<h3>Description</h3>
            <p>
		      	Select the user role for the project.
		    </p>
        </div>
    </div>
    <div class="modal-footer">
        <a id="updateBtn" class="btn btn-blue pull-right" data-dismiss="modal">Add</a>
        <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
    </div>
</div>
</script>
<script id="allocateIPFormTemplate" type="text/html">

<%
var prctg = 100 * (used) / quotas.get("quota_set")["floating_ips"];
var to_add = 100 * (used + 1) / quotas.get("quota_set")["floating_ips"];
if (to_add > 100) {
to_add = 100;
}
%>
<div id="allocate_IP" class="modal hide ">
    <form id="form" onSubmit="return false;">
        <div class="modal-header">
            <a id="closeModal" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>Allocate Floating IP</h3>
        </div>

        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>
                    <input type="hidden" name="method" value="FloatingIpAllocate" id="id_method">
                    <input type="hidden" name="tenant_name" value="demo" id="id_tenant_name">
                    <div class="control-group form-field clearfix">
                        <label for="id_pool">Pool</label>
                        <span class="help-block" style="display: none;"></span>
                        <div class="input">

                        <select id="pool_switcher" tabindex="1" class="inline">
                            <%
                                for (var index in pools.models) {
                                var pool = pools.models[index].get("name");
                            %>
                            <option value="<%= pool%>"><%= pool%></option>
                            <% } %>
                        </select>

                        <p class="floating_ip_error_msg"><%= (prctg >= 100) ? "ERROR: You exceeded the limit of Floating IPs" : ""%></p>
                        </div>
                    </div>
                 </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>Allocate a floating IP from a given floating ip pool.</p>
                <h3>Project Quotas</h3>
                <div class="quota_title">
                  <strong>Floating IP <span>(<%=used%>)</span></strong>
                  
                  <p><%=quotas.get("quota_set")["floating_ips"]-used%> Available</p>
                </div>
                <div class="clearfix"></div>
                <div class="quota_bar">
                    <div class="progress_bar">
                        <div class="progress_bar_fill" style="width: <%= prctg %>%"></div>
                        <div id="" class="progress_bar_new" style="width: <%= to_add %>%"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <input type="submit" class="btn btn-blue pull-right" value="Allocate IP" <%= (prctg >= 100) ? 'disabled' : ""%> >
            <a id="cancelBtn" class="btn secondary cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="associateIPFormTemplate" type="text/html">
<div id="associate_IP" class="modal hide ">
    <form id="form" onSubmit="return false;">
        <div class="modal-header">
            <a id="closeModal" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>Associate Floating IP</h3>
        </div>

        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>
                    <input type="hidden" name="method" value="FloatingIpAllocate" id="id_method">
                    <input type="hidden" name="tenant_name" value="demo" id="id_tenant_name">
                    <div class="control-group form-field clearfix">

                        <label for="id_floating_ip">Associate Floating IP:</label>
                        <span class="help-block" style="display: none;"></span>
                        <div class="input">
                        <input readonly="readonly" type="text" name="floating_ip" value="<%= model.get("ip")%>" id="id_floating_ip">
                        </div>

                        <label for="id_pool">to instance:</label>
                        <span class="help-block" style="display: none;"></span>
                        <div class="input">

                        <select id="instance_switcher" tabindex="1" class="inline">
                            <option value="">Select an instance</option>
                            <%
                                for (var index in instances.models) {
                                var instance = instances.models[index].get("name");
                                var id = instances.models[index].get("id");
                            %>
                            <option value="<%= id%>"><%= instance%></option>
                            <% }%>

                        </select>
                        </div>

                        <label for="id_pool">and to IP Address:</label>
                        <span class="help-block" style="display: none;"></span>
                        <div class="input">

                        <select id="instance_ip_pool" tabindex="1" class="inline">
                            <option value="">Select IP to associate with</option>
                        </select>
                        </div>
                    </div>
                 </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>Associate a floating ip with an instance.</p>                
            </div>
        </div>
        <div class="modal-footer">
            <input type="submit" class="btn btn-blue pull-right" value="Associate IP">
            <a id="cancelBtn" class="btn secondary cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="changePasswordFormTemplate" type="text/html">
<div id="change_password" class="modal hide ">
    <!--
    Description: Change Password Form
    src: templates/forms/changePassword.html
    -->
    <form id="form" onSubmit="return false;">
        <div class="modal-header">
            <a id="close" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>Change Password</h3>
        </div>
        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>
                    <div class="control-group form-field clearfix">
                        <label for="id_instance">Instance</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input readonly="readonly" type="text" name="instance" value="<%= model.id %>" id="id_instance" />
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_password">Password</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input required type="password" name="instance_password" value="" id="id_password" />
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    Update the password of your instance
                </p>
            </div>
        </div>
        <div class="modal-footer">
            <input type="submit" id="updateBtn" class="btn btn-blue pull-right" value="Change Password"/>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="cloneBlueprintFormTemplate" type="text/html">
<div id="clone_blueprint" class="modal hide in" style="display: block; ">
    <!--
    Description: Clone Blueprint Form
    src: templates/forms/cloneBlueprint.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Clone Blueprint</h3>
    </div>

    <form id="form" onSubmit="return false;">
        <div class="modal-body clearfix">

            <div class="left">
                <fieldset>

                    <div class="control-group form-field clearfix">
                        <label for="id_name">Name *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input required id="name" type="text" name="name" maxlength="255">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Description *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <textarea required id="id_description" rows="10" cols="40" name="description"></textarea>
                        </div>
                    </div>

                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    From here you can clone a new blueprint.
                </p>
            </div>

        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" class="btn btn-blue clone-blueprint pull-right" value="Clone Blueprint"/>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="copyObjectFormTemplate" type="text/html">
<div id="copy_object" class="modal hide in" style="top: 107px; display: block; ">
<!--
    Description: Copy Object Form
    src: templates/forms/copyObject.html
-->
  <div class="modal-header">
    <a id="close" href="#" class="close" data-dismiss="modal">×</a>
    <h3>Copy Object: <%= title%></h3>
  </div>
  <form action="" id="copy_object_form">
   <div class="modal-body clearfix">
	<div class="left">
    	<fieldset>
		  <div class="control-group form-field clearfix">
		    <label for="id_name">Destination container</label>
		 	<select id="container_switcher" tabindex="1" class="inline">
		 		<option value="<%= model.container%>"><%= model.container%></option>
		 		<%
			 		for (var index in model.containers) {
			 		var contName = model.containers[index].get("name");
			 			if (contName !== model.container) {
			 				containerName = contName;
			 	%>
		 		<option value="<%= containerName%>"><%= containerName%></option>
		 		<% } }%>
		   	</select>
		  </div>
		  <div class="control-group form-field clearfix">
		    <label for="id_name">Destination object name</label>
		    <span class="help-block" style="display: none; "></span>
		    <div class="input">
		      <input id="id_name" type="text" name="objName" value="<%= title%> copy" maxlength="255">
		    </div>
		  </div>
    	</fieldset>
	</div>
	<div class="right">
	    <h3>Description</h3>
	    <p>You may make a new copy of an existing object to store in this or another container.</p>
	</div>
   </div>
   <div class="modal-footer">
	  <a id="submit" class="btn btn-blue pull-right" data-dismiss="modal">Copy Object</a>
	  <a href="#objectstorage/containers/" id="cancelBtn" data-dismiss="modal" class="btn secondary cancel close">Cancel</a>
	</div>
  </form>
 </div>
</script>
<script id="createBlueprintFormTemplate" type="text/html">
<div id="create_blueprint" class="modal hide in" style="display: block; ">
    <!--
    Description: Create Blueprint Form
    src: templates/forms/createBlueprint.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Create Blueprint</h3>
    </div>

    <form id="form" onSubmit="return false;">
        <div class="modal-body clearfix">

            <div class="left">
                <fieldset>

                    <div class="control-group form-field clearfix">
                        <label for="id_name">Name *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input required id="name" type="text" name="name" maxlength="255" pattern="^[\S]*$" title="This field can not contain spaces">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Description *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <textarea required id="id_description" rows="10" cols="40" name="description"></textarea>
                        </div>
                    </div>

                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    From here you can create a new blueprint.
                </p>
            </div>

        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" class="btn btn-blue create-blueprint pull-right" value="Create Blueprint"/>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="createBlueprintInstanceFormTemplate" type="text/html">
<div id="create_blueprint_instance" class="modal hide in" style="display: block; ">
    <!--
    Description: Create Blueprint Instance Form
    src: templates/forms/createBlueprintInstance.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Launch Blueprint Instance</h3>
    </div>

    <form id="form" onSubmit="return false;">
        <div class="modal-body clearfix">

            <div class="left">
                <fieldset>

                    <div class="control-group form-field clearfix">
                        <label for="id_name">Name *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input required id="name" type="text" name="name" maxlength="255" pattern="^[\S]*$" title="This field can not contain spaces">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Description *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <textarea required id="id_description" rows="10" cols="40" name="description"></textarea>
                        </div>
                    </div>

                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    From here you can launch a new blueprint instance.
                </p>
            </div>

        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" class="btn btn-blue create-blueprint pull-right" value="Launch Blueprint Instance"/>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="createContainerFormTemplate" type="text/html">
<div id="create_container" class="modal hide in" style="top: 107px; display: block; ">
    <!--
    Description: Create Container Form
    src: templates/forms/createContainer.html
    -->

    <div class="modal-header">
        <a id="close" href="#" class="close" data-dismiss="modal">×</a>
        <h3>Create Container</h3>
    </div>
    <form id="create_container_form" onSubmit="return false;" >
        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>
                    <div class="control-group form-field clearfix">
                        <label for="id_name">Container Name *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input required id="id_name" type="text" name="name" maxlength="255"/>
                        </div>
                    </div>

                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    A container is a storage compartment for your data and provides a way for you to organize your data. You can think of a container as a folder in Windows ® or a directory in UNIX ®. The primary difference between a container and these other file system concepts is that containers cannot be nested. You can, however, create an unlimited number of containers within your account. Data must be stored in a container so you must have at least one container defined in your account prior to uploading data.
                </p>
            </div>
        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" class="btn btn-blue pull-right" value="Create Container"/>
            <a href="#objectstorage/containers/" id="cancelBtn" class="btn secondary cancel close">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="createFlavorFormTemplate" type="text/html">
<div id="create_flavor" class="modal hide ">
    <!--
    Description: Create Flavor Form
    src: templates/forms/createFlavor.html
    -->
    <form id="form" onSubmit="return false;">
        <div class="modal-header">
            <a id="close" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>Create Flavor</h3>
        </div>
        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>
                    <div class="control-group form-field clearfix">
                        <label for="id_flavor_id">Flavor ID *</label>
                        <div class="input">
                            <input type="number" min="0" name="flavor_id" id="id_flavor_id"  required placeholder="Enter a whole number."/>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_name">Name *</label>
                        <div class="input">
                            <input id="id_name" type="text" name="name" maxlength="25" required placeholder="This field is required."/>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_vcpus">VCPUs *</label>
                        <div class="input">
                            <input id="id_vcpus" type="number" min="1" name="vcpus" maxlength="5" required placeholder="Enter a whole number, greater than 0."/>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_memory_mb">Memory MB *</label>
                        <div class="input">
                            <input id="id_memory_mb" type="number" min="0" name="memory_mb" maxlength="5" required placeholder="Enter a whole number, greater than 0."/>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_disk_gb">Root Disk GB *</label>
                        <div class="input">
                            <input id="id_disk_gb" type="number" min="0" name="disk_gb" maxlength="5" required placeholder="Enter a whole number."/>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_eph_gb">Ephemeral Disk GB *</label>
                        <div class="input">
                            <input id="id_eph_gb" type="number" min="0" name="eph_gb" maxlength="5" required placeholder="Enter a whole number."/>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="right">
                <h3>Description:</h3>
                <p>
                    From here you can define the sizing of a new flavor.
                </p>
            </div>
        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input id="submit" type="submit" class="btn btn-blue pull-right" value="Create Flavor">
            <a href="#syspanel/flavors/" id="cancelBtn" class="btn secondary cancel close">Cancel</a>
        </div>
    </form>
</div>
</script>


<script id="createKeypairFormTemplate" type="text/html">
<div id="create_keypair" class="modal hide  in" style="display: block; ">
    <!--
    Description: Create Keypair Form
    src: templates/forms/createKeyPair.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">&times</a>
        <h3>Create Keypair</h3>
    </div>

    <form id="create_keypair_form" class="" action="" method="">
        <div class="modal-body clearfix">

            <div class="left">
                <fieldset>

                    <div class="control-group form-field clearfix">
                        <label for="id_name">Keypair Name *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="id_name" type="text" name="name" maxlength="20" required placeholder="Keypair Name">
                        </div>
                    </div>

                </fieldset>
            <div id="downloadKeypair"><a class='downloadKeypair'></a></div>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    Keypairs are ssh credentials which are injected into images when they are launched. Creating a new key pair registers the public key and downloads the private key (a .pem file).
                </p>
                <p>
                    Protect and use the key as you would any normal ssh private key.
                </p>
            </div>

        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input id="createBtn1" class="btn btn-blue pull-right" type="submit" value="Create Keypair">
            <a id="cancelBtn1" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>


<script id="createNetworkFormTemplate" type="text/html">
<div id="create_network" class="modal hide in" style="display: block; overflow: visible;">
<!--
Description: Create Network Form
src: templates/forms/createNetwork.html
-->

<div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">&times</a>
        <h3>Create Network</h3>
</div>

<form id="form" class="" onSubmit="return false;">
	
	<div id="input_network" class="tab-pane tab-adjustable active" style="overflow: visible;">
	    <div id="network_modal" class="modal-body clearfix">

	    	<div id="net_details">
	            <div class="left">
	                <fieldset>
	                    <div class="control-group form-field clearfix">
	                        <label for="network_name">Network Name</label>
	                        <span class="help-block"></span>
	                        <div class="input">
	                            <input type="text" name="network" value="<%= model.id %>" id="network_name" />
	                        </div>
	                    </div>
	                    <div class="control-group form-field clearfix">
	                        <label for="admin-state" class="label_check">Admin State</label>
	                        <span class="help-block"></span>
	                        <input class="inp_checkbox" type="checkbox" checked="checked" name="admin_state" value="" id="admin_state" />
	                    </div>
	                </fieldset>
	            </div>
	            <div class="right">
	                <h3>Description</h3>
	                <p>
	                From here you can create a new PIv4 network. You can associate a subnet with the network pushing the button below. If you want to associate more subnets you can do once the network is created. If you want to create a IPv6 network, please contact <a href="fiware-tech-help@lists.fiware.org">FIWARE Lab Administrators</a>.
	                </p>
	            </div>
            </div>

            <p id="switch_subnet" class="btn btn-small btn-white" data-i18n="Add subnet">Add subnet</p>     

            <div id="subnet_details" class="hide">
            	<hr class="header_rule">
	            <div class="left">
	            	<fieldset>		            
	                    <div class="control-group form-field clearfix">
	                        <label for="subnet-name">Subnet Name</label>
	                        <span class="help-block"></span>
	                        <div class="input">
	                            <input type="text" name="subnet_name" id="subnet_name" />
	                        </div>
	                    </div>
	                    <div class="control-group form-field clearfix">
	                        <label for="network-address">Network Address*</label>
	                        <span class="help-block"></span>
	                        <div class="input">
	                            <input placeholder="x.x.x.x/x" type="text" name="network_address" id="network_address"/>
	                        </div>
	                    </div>
	                    <div class="control-group form-field clearfix">
	                        <label for="allocation-pools">Allocation Pools</label>
	                        <span class="help-block"></span>
	                        <div class="input tip" data-tooltip="IP address allocation pools. One entry per line.">
	                            <textarea placeholder="<start_ip_address>,<end_ip_address>" id="allocation_pools" rows="3" cols="15" name="allocation_pools"></textarea>
	                        </div>
	                    </div>
	                    <!--<div class="control-group form-field clearfix">
	                        <label for="ip-version">IP Version</label>
	                        <span class="help-block"></span>
	                        <div class="input">
	                        	<select name="ip_version" id="ip_version">
	                            	<option value="4">IPv4</option>
	                            	<option value="6">IPv6</option>
	                        	</select>
	                        </div>
	                    </div>-->
	                    <div class="control-group form-field clearfix">
	                        <label for="enable-dhcp" class="label_check">Enable DHCP</label>
	                        <span class="help-block"></span>
	                        <input type="checkbox" checked="checked" name="enable_dhcp" value="" id="enable_dhcp" />
	                    </div>
	                </fieldset>
	            </div>
	            <div class="right">
	                <fieldset>
	                	<div class="control-group form-field clearfix">
	                        <label for="gateway-ip">Gateway IP</label>
	                        <span class="help-block"></span>
	                        <div class="input">
	                            <input type="text" name="gateway_ip" id="gateway_ip"/>
	                        </div>
	                    </div>
	                    <div class="control-group form-field clearfix">
	                        <label for="dns-name-servers">DNS Name Servers</label>
	                        <span class="help-block"></span>
	                        <div class="input tip" data-tooltip="One entry per line.">
	                            <textarea id="dns_name_servers" rows="3" cols="15" name="dns_name_servers"></textarea>
	                        </div>
	                    </div>
	                    <div class="control-group form-field clearfix">
	                        <label for="host-routers">Host Routes</label>
	                        <span class="help-block"></span>
	                        <div class="input tip", data-tooltip="Additional routes announced to the hosts. One entry per line.">
	                            <textarea placeholder="<destination_netw>,<nexthop>" id="host_routers" rows="3" cols="15" name="host_routers"></textarea>
	                        </div>
	                    </div>
	                </fieldset>

	            </div>
	        </div>
	    </div>
	</div>   

	<div class="modal-footer">
        <p class="mandatoryMess">* Mandatory fields.</p>
        <input type="submit" id="create_network_button" class="btn btn-blue btn-create-network pull-right" value="Create"/>
        <a id="cancelBtn-network" class="btn secondary cancel close">Cancel</a>
	</div>
</form>

</script>




<script id="createProjectFormTemplate" type="text/html">
<div id="create_project" class="modal hide in" style="display: block; ">
    <!--
    Description: Create Project Form
    src: templates/forms/createProject.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Create Project</h3>
    </div>

    <form id="form" onSubmit="return false;">
        <div class="modal-body clearfix">

            <div class="left">
                <fieldset>

                    <div class="control-group form-field clearfix">
                        <label for="id_name">Name *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input required id="name" type="text" name="name" maxlength="255">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Description *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <textarea required id="id_description" rows="10" cols="40" name="description"></textarea>
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
					    <label for="id_enabled">Enabled</label>

					    <span class="help-block" style="display: none;"></span>
					    <div class="input">
					      <input checked="checked" type="checkbox" name="enabled" id="id_enabled">
					    </div>
					</div>

                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    From here you can create a new project to organize users.
                </p>
            </div>

        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" class="btn btn-blue create-project pull-right" value="Create Project"/>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="createRouterFormTemplate" type="text/html">
<div id="create_router" class="modal hide in" style="display: block; ">
<!--
Description: Create Router Form
src: templates/forms/createRouter.html
-->
<div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">&times</a>
        <h3>Create Router</h3>
</div>
<form id="form" onSubmit="return false;">
	<div id="input_router" class="tab-pane tab-adjustable active">
	    <div class="modal-body clearfix">
            <div class="left">
                <fieldset>
                    <div class="control-group form-field clearfix">
                        <label for="router_name">Router Name*</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input type="text" required="" name="router" id="router_name" pattern="[^_\W]+" title="This field can not contain spaces"/>
                        </div>
                    </div>
                </fieldset>
	    </div>
	</div>   		
	<div class="modal-footer">
		<p class="mandatoryMess">* Mandatory fields.</p>
        <input type="submit" id="create_router_button" class="btn btn-blue btn-create-router pull-right" value="Create router"/>
        <a id="cancelBtn-router" class="btn secondary cancel close">Cancel</a>
	</div>
</form>
</script>




<script id="createSecurityGroupFormTemplate" type="text/html">
<div id="create_security_group" class="modal hide ">
    <!--
    Description: Create Security Group Form
    src: templates/forms/createSecurityGroup.html
    -->
    <form id="form" onSubmit="return false;">
        <div class="modal-header">
            <a id="close" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>Create Security Group</h3>
        </div>
        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>
                    <div class="control-group form-field clearfix">
                        <label for="name">Name *</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input type="text" name="name" value="" id="name" rel="tooltip" pattern="^[a-z0-9_\-]{1,87}$"  data-placement="right" placeholder="Lower case letters, numbers, underscores and hyphens." required/>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="description">Description *</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input type="text" name="description" value="" id="description" required placeholder="This field is required."/>
                        </div>
                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    From here you can create a new security group
                </p>
            </div>
        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" class="btn btn-blue pull-right" value="Create Security Group">
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="createSnapshotFormTemplate" type="text/html">
<div id="create_snapshot" class="modal hide ">
    <!--
    Description: Create Snapshot Form
    src: templates/forms/createSnapshot.html
    -->
    <form id="form" onSubmit="return false;">
        <div class="modal-header">
            <a id="close" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>Create Snapshot</h3>
        </div>
        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>
                    <div class="control-group form-field clearfix">
                        <label for="id_instance">Instance ID *</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input readonly="readonly" type="text" name="instance" value="<%= model.id %>" id="id_instance" />
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_password">Snapshot Name *</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input required type="text" name="snapshot_name" value="" id="snapshot_name" />
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    Snapshots preserve the disk state of a running instance.
                </p>
            </div>
        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" class="btn btn-blue pull-right" value="Create Snapshot"/>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
            <!--<a id="cancelBtn" class="btn secondary cancel close">Cancel</a>-->
        </div>
    </form>
</div>
</script>
<script id="createSoftwareFormTemplate" type="text/html">
<div id="create_software" class="modal draggable_table hide in" style="display: block; overflow: visible;">
<!--
Description: Create Software Form
src: templates/forms/createSoftware.html
-->

<div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">&times</a>
        <h3>Create Software</h3>
</div>

<form onSubmit="return false;">
	
	<div id="input_software" class="tab-pane tab-adjustable active" style="overflow: visible;">
	    <div id="software_modal" class="modal-body clearfix">

	    	<div id="sft_details" class="full_form">
                <fieldset>
                	<div class="control-group form-field clearfix">
                        <label for="name">Name*</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input required type="text" name="name"/>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="version">Version*</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input required type="text" name="version"/>
                        </div>
                    </div>
                     <div class="control-group form-field clearfix">
                        <label for="repo">Repository*</label>
                        <span class="help-block"></span>
                        <div class="input">
                        	<select name="repo">
                            	<option value="git">Git</option>
                            	<option value="svn">SVN</option>
                        	</select>
                        </div>
                    </div>
                	<div class="control-group form-field clearfix">
                        <label for="url">Cookbook URL*</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input required type="text" name="url"/>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="config_manag" class="label_check">Configuration Management*</label>
                        <span class="help-block"></span>
                        <input class="inp_checkbox" type="radio" name="config_management" value="chef" checked/> Chef
                        <input class="inp_checkbox" type="radio" name="config_management" value="puppet"/> Puppet
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="os" class="label_check">Operating Systems*</label>
                        <span class="help-block"></span>
                        <div id="sos_list">
                        <%
                        for (var i in images.models) {
                            if (images.models[i].get('sdc_aware')) {
                        %>
                                <input class="inp_checkbox" type="checkbox" name="so" value="<%=images.models[i].id%>"/> <%=images.models[i].get("name")%> </br>
                        <%
                            }
                        }
                        %>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="description">Description</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <textarea rows="3" cols="40" name="description"></textarea>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="attributes">Attributes</label>
                        <span class="help-block"></span>
                        <div class="input tip" data-tooltip="Attributes for the product. One entry per line.">
                            <textarea placeholder="<attribute>,<value>,<description>" rows="3" cols="15" name="attributes"></textarea>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="tcp_ports">Open TCP Ports</label>
                        <span class="help-block"></span>
                        <div class="input tip" data-tooltip="Open ports separated by commas.">
                            <input type="text" name="tcp_ports"/>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="udp_ports">Open UDP Ports</label>
                        <span class="help-block"></span>
                        <div class="input tip" data-tooltip="Open ports separated by commas.">
                            <input type="text" name="udp_ports"/>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="row-fluid dep_table">
	            <div style="height: 100%; position: relative" class="span6">
	                <h2 class="tier-sdc-title">Dependencies in Software</h2>
	                <div style="position: absolute; top: 45px; bottom: 0px; width: 100%">
	                   <div id="installedSoftware-table"></div>
	               </div>
	            </div>
	            <div style="height: 100%; position: relative" class="span6">
	                <h2 class="tier-sdc-title title-catalogue">Software in Catalogue</h2>
	                <div style="position: absolute; top: 45px; bottom: 0px; width: 100%">
	                    <div id="newSoftware-table"></div>
	                </div>
	            </div>
	        </div>
	    </div>
	</div>   

	<div class="modal-footer">
        <p class="mandatoryMess">* Mandatory fields.</p>
        <input type="submit" id="create_software_button" class="btn btn-blue pull-right" value="Create"/>
        <a id="cancelBtn-software" class="btn secondary cancel close">Cancel</a>
	</div>
</form>

</script>




<script id="createSubnetFormTemplate" type="text/html">
<div id="create_subnet" class="modal hide in" style="display: block; overflow: visible;">
<!--
Description: Create Subnet Form
src: templates/forms/createSubnet.html
-->

<div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">&times</a>
        <h3>Create Subnet</h3>
</div>

<form id="form" onSubmit="return false;">

	<div id="input_subnet" class="tab-pane tab-adjustable active" style="overflow: visible;">
		<div class="modal-body clearfix">
            <div class="left">
            	<fieldset>		            
                    <div class="control-group form-field clearfix">
                        <label for="subnet-name">Subnet Name</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input type="text" name="subnet_name" id="subnet_name" />
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="network-address">Network Address*</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input placeholder="x.x.x.x/x" required="required" type="text" name="network_address" id="network_address" pattern='^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/(\d|[1-2]\d|3[0-2]))$'/>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="allocation-pools">Allocation Pools</label>
                        <span class="help-block"></span>
                        <div class="input tip" data-tooltip="IP address allocation pools. One entry per line.">
                            <textarea placeholder="<start_ip_address>,<end_ip_address>" id="allocation_pools" rows="3" cols="15" name="allocation_pools"></textarea>
                        </div>
                    </div>
                    <!--<div class="control-group form-field clearfix">
                        <label for="ip-version">IP Version</label>
                        <span class="help-block"></span>
                        <div class="input">
                        	<select name="ip_version" id="ip_version">
                            	<option value="4">IPv4</option>
                            	<option value="6">IPv6</option>
                        	</select>
                        </div>
                    </div>-->
                    <div class="control-group form-field clearfix">
                        <label for="enable-dhcp" class="label_check">Enable DHCP</label>
                        <span class="help-block"></span>
                        <input type="checkbox" checked="checked" name="enable_dhcp" value="" id="enable_dhcp" />
                    </div>
                </fieldset>
            </div>
            <div class="right">
                <fieldset>
                	<div class="control-group form-field clearfix">
                        <label for="gateway-ip">Gateway IP</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input type="text" name="gateway_ip" id="gateway_ip"/>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="dns-name-servers">DNS Name Servers</label>
                        <span class="help-block"></span>
                        <div class="input tip" data-tooltip="One entry per line.">
                            <textarea id="dns_name_servers" rows="3" cols="15" name="dns_name_servers"></textarea>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="host-routes">Host Routes</label>
                        <span class="help-block"></span>
                        <div class="input tip", data-tooltip="Additional routes announced to the hosts. One entry per line.">
                            <textarea placeholder="<destination_netw>,<nexthop>" id="host_routes" rows="3" cols="15" name="host_routes"></textarea>
                        </div>
                    </div>
                </fieldset>

            </div>
        </div>
	</div>

	<div class="modal-footer">
        <p class="mandatoryMess">* Mandatory fields.</p>
        <input type="submit" id="create_subnet_button"  class="btn btn-blue btn-create-subnet pull-right" value="Create"/>
        <a id="cancelBtn-subnet" class="btn secondary cancel close">Cancel</a>
	</div>
</form>

</script>




<script id="createUserFormTemplate" type="text/html">
<div id="create_user" class="modal hide in" style="display: block; ">
    <!--
    Description: Create User Form
    src: templates/forms/createUser.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Create User</h3>
    </div>

    <form id="form" onSubmit="return false;">
        <div class="modal-body clearfix">

            <div class="left">
                <fieldset>

                    <div class="control-group form-field clearfix">
                        <label for="id_name">User Name *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input required id="name" type="text" name="name" maxlength="255">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Email *</label>
                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="email" type="email" name="email">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Password *</label>
                        <span class="help-block" style="display: none; "></span>
                        <div id= "password" class="input">
                        	<a class="tip" data-tooltip="Show password"><img class="btn-eye" src="../../images/btn-eye.png"></a>
                        	<a class="tip" data-tooltip="Hide password"><img class="btn-eye-active" src="../../images/btn-eye-active.png" style="display: none; "></a>
                            <input required id="user_password" type="password" class="password"  name="user_password" maxlength="255">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Confirm Password *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div id="confirm_password" class="input">
                           	<input required id="confirm_password" type="password" class="password" name="confirm_password" maxlength="255">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
					    <label for="id_name">Primary Project</label>
					 	<select id="project_switcher" tabindex="1" class="inline">
                            <% for (var idx in tenants.models) {
                                var tenant = tenants.models[idx];
                            %>
					 		<option value="<%=tenant.get('id')%>"><%= tenant.get('name')%></option>
                            <%
                            }
                            %>
					   	</select>
		 			 </div>

                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    From here you can create a new user and assign them to a project.
                </p>
            </div>

        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" class="btn btn-blue create-user pull-right"value="Create User"/>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="createVDCServiceFormTemplate" type="text/html">
<div id="create_service" class="modal hide in" style="top: 107px; display: block; ">
    <!--
    Description: Create Volume Snapshot Form
    src: templates/forms/createVolumeSnapshot.html
    -->

    <div class="modal-header">
        <a id="close-service" href="#" class="close" data-dismiss="modal">×</a>
        <h3>Launch Service</h3>
    </div>
        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>
                    <div class="control-group form-field clearfix">
                        <label for="id_name">Service Name</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="id_name" type="text" name="name" maxlength="255">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_network">Network</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="select">
                            <select id="network">
                              <option value="vdc_network">VDC Network</option>
                            </select>
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Description</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <textarea id="id_description" rows="10" cols="40" name="description"></textarea>
                        </div>
                    </div>

                </fieldset>
            </div>
            <div class="right-auto">
                <h3>Description</h3>
                <p>
                    Specify the details for launching a Service.
                </p>

                <div class="control-group form-field clearfix" style="height:250px">
                    <button id="addInstance" class="btn btn-blue">+ Add Instance</button>
                    <%
                        if (instances.models.length > 0){
                            %>
                    <table class="table table-bordered table-striped">
                        <caption><br/></caption>
                        <thead><tr>
                            <th>Name</th>
                            <th>Capacity</th>
                        </tr></thead>
                        <tbody>
                        <%
                        console.log(instances.models);
                        for (var index in instances.models) {
                            if (instances.models.hasOwnProperty(index)) {
                                var inst = instances.models[index];
                                var flavorReg = inst.get('flavorReg');
                                var flavor = flavors.get(flavorReg);
                                %>

                        <tr><td><%=inst.get('name')%></td><td><%=flavor.get("vcpus") + "VCPU / " + flavor.get("disk") + "GB Disk / " + flavor.get("ram") + "MB Ram" %></td></tr>
                                <%
                            }
                        }%>
                        </tbody>
                    </table>
                    <%}%>
                </div>
                <div class="control-group form-field clearfix">

                </div>
            </div>
        </div>
        <div class="modal-footer">
            <a id="submit" class="btn btn-blue pull-right" data-dismiss="modal">Create Service</a>
            <a href="#objectstorage/containers/" id="cancelBtn" class="btn secondary cancel close">Cancel</a>
        </div>
</div>
</script>
<script id="createVolumeFormTemplate" type="text/html">
<div id="create_volume_modal" class="modal hide in" style="display: block; ">
    <!--
    Description: Create Volume Form
    src: templates/forms/createVolume.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Create Volume</h3>
    </div>

     <form id="form" onSubmit="return false;">
        <div class="modal-body clearfix">

            <div class="left">
                <fieldset>

                    <div class="control-group form-field clearfix">
                        <label for="id_name">Volume Name *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input required id="id_name" type="text" name="name" maxlength="255">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Description</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <textarea id="id_description" rows="10" cols="40" name="description"></textarea>
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_size">Size (GB) *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input required type="number" name="size" min="1" value="1" id="id_size">
                        </div>
                    </div>

                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    Volumes are block devices that can be attached to instances.
                </p>
            </div>

        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
        	<input type="submit" class="btn btn-blue create-volume pull-right"value="Create Volume"/>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
            <!--<a id="cancelBtn" class="btn secondary cancel close">Cancel</a>-->
        </div>
    </form>
</div>
</script>
<script id="createVolumeBackupFormTemplate" type="text/html">
<div id="create_volume_backup_modal" class="modal hide in" style="top: 107px; display: block; ">
    <!--
    Description: Create Volume Backup Form
    src: templates/forms/createVolumeBackup.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Create Volume Backup</h3>
    </div>

    <div class="modal-body clearfix">

        <div class="left">
            <fieldset>

                <div class="control-group form-field clearfix">
                    <label for="id_name">Backup Name *</label>

                    <span class="help-block" style="display: none; "></span>
                    <div class="input">
                        <input id="id_name" type="text" name="name" maxlength="255">
                    </div>
                </div>

                <div class="control-group form-field clearfix">
                    <label for="id_description">Description</label>

                    <span class="help-block" style="display: none; "></span>
                    <div class="input">
                        <textarea id="id_description" rows="10" cols="40" name="description"></textarea>
                    </div>
                </div>

            </fieldset>
        </div>
        <div class="right">
            <h3>Description</h3>
            <p>
                Volumes are block devices that can be attached to instances.
            </p>
        </div>

    </div>
    <div class="modal-footer">
        <p class="mandatoryMess">* Mandatory fields.</p>
        <input id="createBtn" class="btn btn-blue pull-right" type="submit" value="Create Volume Backup">
        </input>
        <a class="btn secondary cancel close">Cancel</a>
    </div>
</div>
</script>
<script id="createVolumeSnapshotFormTemplate" type="text/html">
<div id="create_volume_snapshot_modal" class="modal hide in" style="top: 107px; display: block; ">
    <!--
    Description: Create Volume Snapshot Form
    src: templates/forms/createVolumeSnapshot.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Create Volume Snapshot</h3>
    </div>

    <div class="modal-body clearfix">

        <div class="left">
            <fieldset>

                <div class="control-group form-field clearfix">
                    <label for="id_name">Snapshot Name *</label>

                    <span class="help-block" style="display: none; "></span>
                    <div class="input">
                        <input id="id_name" type="text" name="name" maxlength="255">
                    </div>
                </div>

                <div class="control-group form-field clearfix">
                    <label for="id_description">Description</label>

                    <span class="help-block" style="display: none; "></span>
                    <div class="input">
                        <textarea id="id_description" rows="10" cols="40" name="description"></textarea>
                    </div>
                </div>

            </fieldset>
        </div>
        <div class="right">
            <h3>Description</h3>
            <p>
                Volumes are block devices that can be attached to instances.
            </p>
        </div>

    </div>
    <div class="modal-footer">
        <p class="mandatoryMess">* Mandatory fields.</p>
        <input id="createBtn" class="btn btn-blue pull-right" type="submit" value="Create Volume Snapshot">
        </input>
        <a class="btn secondary cancel close">Cancel</a>
    </div>
</div>
</script>
<script id="downloadKeypairFormTemplate" type="text/html">

<div id="download_keypair">
    <!--
    Description: Import Keypair Form
    src: templates/forms/downloadKeypair.html
    -->

	<div class="modal-header">
    	<h3>The keypair <%= model.attributes.name%> should download automatically. If not use the link below.</h3>
  	</div>

  	<div id="downloadKeypair" class='modal-body clearfix'><a class='downloadKeypair'></a></div>

</div>
</script>
<script id="editBlueprintFormTemplate" type="text/html">
<div id="edit_blueprint" class="modal hide in" style="display: block; ">
    <!--
    Description: Edit Blueprint Form
    src: templates/forms/editBlueprint.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Edit Blueprint</h3>
    </div>

    <form id="form" onSubmit="return false;">
        <div class="modal-body clearfix">

            <div class="left">
                <fieldset>

                    <div class="control-group form-field clearfix">
                        <label for="id_name">Name *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input required id="name" type="text" name="name" maxlength="255" value="<%=model.get('name')%>" pattern="^[\S]*$" title="This field can not contain spaces">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Description *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <textarea required id="id_description" rows="10" cols="40" name="description"><%=model.get('description')%></textarea>
                        </div>
                    </div>

                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    From here you can edit a blueprint.
                </p>
            </div>

        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" class="btn btn-blue edit-blueprint pull-right" value="Edit Blueprint"/>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="editGaoFangIPRulesFormTemplate" type="text/html">
<div id="edit_security_group_rule" class="modal in">
    <!--
    Description: Create Security Group Form
    src: templates/forms/createSecurityGroup.html
    -->
    <form id="rulesForm" onSubmit="return false;">
        <div class="modal-header">
            <a id="closeModal" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>Edit Security Group Rules</h3>
        </div>

        <div id="messHeader" class="modal-body clearfix">


    	    <div class='table_header'><h3 class='table_title'>Security Group Rules</h3></div>

            <div id="edit_gaofangip_rules"></div>

            <div class='table_header'><h3 class='table_title'>Add Rule</h3></div>

        	<fieldset class="row-fluid">
    	    	<div class="control-group form-field span3 inline IPProtocolSelect">
    				    <label for="id_name">IP Protocol</label>
    				 	<select id="container_switcher" tabindex="1">
    				 		<option value="TCP">TCP</option>
    				 		<option value="UDP">UDP</option>
    				 		<option value="ICMP">ICMP</option>
    				   	</select>
    			</div>

    			<div class="control-group form-field span2 inline-block fromPort">
    				    <label for="from_port">From Port *</label>
    				    <div class="input">
    				      	<input id="from_port" rel="tooltip" data-placement="right" type="number" name="fromPort" value="" required placeholder="Required field." maxlength="255" min="-1" max="65535">
    				    </div>
    			</div>

    			<div class="control-group form-field span2 inline toPort">
    				    <label for="to_port">To Port *</label>
    				    <div class="input">
    				      	<input id="to_port" type="number" rel="tooltip" data-placement="right" name="toPort" value="" required placeholder="Required field." maxlength="255" min="-1" max="65535">
    				    </div>
    			</div>

    			<div class="control-group form-field span3 inline-block secGroupSelect">
    				    <label for="id_name">Source Group</label>
    				 	<select id="container_switcher" tabindex="1">
    				 		<option value="CIDR">CIDR</option>
    				 		<optgroup label='Security Group'>

    				 		</optgroup>
    				   	</select>
    			</div>

    			<div class="control-group form-field span2 inline-block cidrSelect">
    				    <label for="id_name">CIDR</label>
    				    <span class="help-block" >Classless Inter-Domain Routing (e.g. 192.168.0.0/24, 2001:db8:1234::/48)</span>
    				    <div class="input">
    				    	<input id="cidr" rel="tooltip" data-placement="right" type="text" name="cidr" value="0.0.0.0/0" required maxlength="255" pattern="^([01]?\d\d?|2[0-4]\d|25[0-5])\.([01]?\d\d?|2[0-4]\d|25[0-5])\.([01]?\d\d?|2[0-4]\d|25[0-5])\.([01]?\d\d?|2[0-4]\d|25[0-5])\/(\d|[0-2]\d|3[0-2])$|^\s*((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*\/(1([01]\d|2[0-8])|\d\d?)$">
    				    </div>
    			</div>
        	 </fieldset>

       	</div>

        <div class="log-messages-modal" id="log-messages-rules"></div>

        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <a id="cancel" class="close btn seconday cancel close" data-dismiss="modal">Close</a>
        </div>
    </form>
</div>
</script>

<script id="editInstanceSoftwareFormTemplate" type="text/html">
<div id="edit_instance_software" class="modal hide in" style="display: block; ">
    <!--
    Description: Edit Software Form
    src: templates/forms/editInstanceSoftware.html
    -->
    <div class="modal-header">
        <a class="close" data-dismiss="modal">×</a>
        <h3>Edit Software in Instance</h3>
    </div>

    <form id="form" onSubmit="return false;" class="form-horizontal">
        <div class="modal-body clearfix" style="overflow: hidden">
<div class="row-fluid">
  <p class="span6">Select the software you want to install in this instance. The software will be installed in a moment when added to the left-hand table. </p>
<p class="span6">
You can also uninstall the software by dragging it back to the right-hand table (Software in Catalogue).
</p>
</div>            <div id="scroll-based-layer" style="width: 100%; height: 250px;">
                <div id="attributes_edit" style="display:none;">
                    <table id="product_attributes" class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th style="width: 30%;">Attribute</th>
                                <th style="width: 30%;">Value</th>
                                <th style="width: 40%;">Description</th>
                            </tr>
                        </thead>
                        <tbody id="software-attrs-table">
                            <tr class="odd empty">
                                <td colspan="6">No items to display.</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="submodal-footer">
                        <a id="accept-attrs" class="btn btn-blue pull-right">Accept</a>
                        <a id="cancel-attrs" class="btn seconday cancel">Cancel</a>
                    </div>
                </div>
            </div>

            <div id="software_edit" class="row-fluid tier-sdc blurable" style="margin-top: -220px;">
                <div style="height: 100%; position: relative" class="span6">
                    <h2 class="tier-sdc-title">Software in Instance</h2>
                    <div style="position: absolute; top: 45px; bottom: 0px; width: 100%">
                       <div id="installedInstanceSoftware-table"></div>
                   </div>
                </div>
                <div style="height: 100%; position: relative" class="span6">
                    <h2 class="tier-sdc-title">Software in Catalogue</h2>
                    <div style="position: absolute; top: 45px; bottom: 0px; width: 100%">
                        <div id="newInstanceSoftware-table"></div>
                    </div>
                </div>

            </div>

        </div>

        <div class="log-messages-modal" id="log-messages-software"></div>

        <div class="modal-footer blurable">
            <input type="submit" class="btn btn-blue create-tier pull-right blurable" value="Done"/>
        </div>
    </form>
</div>
</script>

<script id="editNetworkFormTemplate" type="text/html">
<div id="edit_network" class="modal hide in" style="display: block; ">
    <!--
    Description: Edit Network Form
    src: templates/forms/editNetwork.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Edit Network</h3>
    </div>

    <form class="" action="#" method="#">
        <div class="modal-body clearfix">

            <div class="left">
                <fieldset>

                    <div class="control-group form-field clearfix">
                        <label for="name">Name</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="name" type="text" name="name" maxlength="255" value="<%=model.get('name')%>">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="network_id">ID</label>
                        <p><%=model.get('id')%></p>
                    </div>

                    <div class="control-group form-field clearfix">
					    <label for="admin_state" class="label_check">Admin State</label>

					    <span class="help-block" style="display: none;"></span>
					    <input type="checkbox" name="admin_state" id="admin_state">
					</div>

                </fieldset>
            </div>
            <div class="right">
            	<h3>Description</h3>
                <p>
		           You may update the editable properties of your network here.
		        </p>
            </div>

        </div>
        <div class="modal-footer">
            <button id="updateBtn" class="btn btn-blue update-network pull-right" data-dismiss="modal">Save Changes</button>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="editPortFormTemplate" type="text/html">
<div id="edit_port" class="modal hide in" style="display: block; ">
    <!--
    Description: Edit Port Form
    src: templates/forms/editPort.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Edit Port</h3>
    </div>

    <form class="" action="#" method="#">
        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>

                    <div class="control-group form-field clearfix">
                        <label for="port_id">ID</label>
                        <p><%= model.id%></p>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="name">Name</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="name" type="text" name="name" maxlength="255" value="">
                        </div>
                    </div>                    

                    <div class="control-group form-field clearfix">
					    <label for="admin_state" class="label_check">Admin State</label>
					    <span class="help-block" style="display: none;"></span>
					    <input type="checkbox" checked="checked" name="admin_state" id="admin_state"  <% if (model.admin_state_up) {%>checked<%}%>">
					</div>

                </fieldset>
            </div>
            <div class="right">
            	<h3>Description</h3>
                <p>
		           You may update the editable properties of your port here.
		        </p>
            </div>

        </div>
        <div class="modal-footer">
            <button id="updateBtn" class="btn btn-blue update-port pull-right" data-dismiss="modal">Save Changes</button>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="editProjectFormTemplate" type="text/html">
<div id="edit_project" class="modal hide in" style="display: block; ">
    <!--
    Description: Edit Project Form
    src: templates/forms/editProject.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Edit Project</h3>
    </div>

    <form class="" action="#" method="#">
        <div class="modal-body clearfix">

            <div class="left">
                <fieldset>

                    <div class="control-group form-field clearfix">
                        <label for="id_name">ID</label>

                        <span class="help-block" style="display: none; "></span>
                        <p>
                        	<%=model.get('id')%>
                        </p>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_name">Name *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="name" type="text" name="name" maxlength="255" value="<%=model.get('name')%>">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Description of Project *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <textarea id="id_description" rows="10" cols="40" name="description" ><%=model.get('description')%></textarea>
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
					    <label for="id_enabled">Enabled</label>

					    <span class="help-block" style="display: none;"></span>
					    <div class="input">
					      <input checked="checked" type="checkbox" name="enabled" id="id_enabled" <% if (model.get('enabled')) {%>checked<%}%>">
					    </div>
					</div>

                </fieldset>
            </div>
            <div class="right">
            	<h3>Description</h3>
                <p>
		           From here you can edit a project.
		        </p>
            </div>

        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <button id="updateBtn" class="btn btn-blue update-project pull-right" data-dismiss="modal">Edit Project</button>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="editRouterFormTemplate" type="text/html">
<div id="edit_router" class="modal hide in" style="display: block; ">
    <!--
    Description: Edit Router Form
    src: templates/forms/editRouter.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Set Gateway</h3>
    </div>

    <form id="form" onSubmit="return false;">
            <div id="input_gateway" class="tab-pane tab-adjustable active">
                <div class="modal-body clearfix">
                    <div class="left">
                        <fieldset>                      
                            <div class="control-group form-field clearfix">
                                <label for="external_network">External Network</label>
                                <span class="help-block"></span>
                                <select id="external_network" tabindex="1" class="inline">
                                    <option value="">Select network</option>
                                        <%var nets = networks.models; 
                                        for (var i in nets) {
                                            if (nets[i].get('router:external')) {
                                                var network_name = nets[i].get('name');
                                                var network_id = nets[i].get('id');                                            
                                        %>
                                    <option value="<%= network_id%>"><%= network_name%></option>
                                    <% }} %>
                                </select>
                            </div>
                            <div class="control-group form-field clearfix">
                                <label for="router-name">Router Name</label>
                                <span class="help-block"></span>
                                <p><%= model.get('name')%></p>
                            </div>
                            <div class="control-group form-field clearfix">
                                <label for="router-id">Router ID</label>
                                <span class="help-block"></span>
                                <p><%= model.get('id')%></p>
                            </div>
                        </fieldset>
                    </div>
                    <div class="right">
                        <h3>Description</h3>
                        <p>
                            You can connect a specified external network to the router. The external network is regarded as a default route of the router and the router acts as a gateway for external connectivity.
                        </p>
                    </div>
                </div>
            </div>
        
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" id="update_router_button"  class="btn btn-blue btn-update-router pull-right" value="Set Gateway"/>
            <a id="cancelBtn-router" class="btn secondary cancel close">Cancel</a>
        </div>
    </form>

</script>
<script id="editSecurityGroupRulesFormTemplate" type="text/html">
<div id="edit_security_group_rule" class="modal in">
    <!--
    Description: Create Security Group Form
    src: templates/forms/createSecurityGroup.html
    -->
    <form id="rulesForm" onSubmit="return false;">
        <div class="modal-header">
            <a id="closeModal" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>Edit Security Group Rules</h3>
        </div>

        <div id="messHeader" class="modal-body clearfix">

            <%var securityGroupsModel = model.get(securityGroupId);%>

    	    <div class='table_header'><h3 class='table_title'>Security Group Rules</h3></div>

            <div id="edit_security_group_rules"></div>

            <div class='table_header'><h3 class='table_title'>Add Rule</h3></div>

        	<fieldset class="row-fluid">
    	    	<div class="control-group form-field span3 inline IPProtocolSelect">
    				    <label for="id_name">IP Protocol</label>
    				 	<select id="container_switcher" tabindex="1">
    				 		<option value="TCP">TCP</option>
    				 		<option value="UDP">UDP</option>
    				 		<option value="ICMP">ICMP</option>
    				   	</select>
    			</div>

    			<div class="control-group form-field span2 inline-block fromPort">
    				    <label for="from_port">From Port *</label>
    				    <div class="input">
    				      	<input id="from_port" rel="tooltip" data-placement="right" type="number" name="fromPort" value="" required placeholder="Required field." maxlength="255" min="-1" max="65535">
    				    </div>
    			</div>

    			<div class="control-group form-field span2 inline toPort">
    				    <label for="to_port">To Port *</label>
    				    <div class="input">
    				      	<input id="to_port" type="number" rel="tooltip" data-placement="right" name="toPort" value="" required placeholder="Required field." maxlength="255" min="-1" max="65535">
    				    </div>
    			</div>

    			<div class="control-group form-field span3 inline-block secGroupSelect">
    				    <label for="id_name">Source Group</label>
    				 	<select id="container_switcher" tabindex="1">
    				 		<option value="CIDR">CIDR</option>
    				 		<optgroup label='Security Group'>
    				 		<% var securityGroupName, securityGroupId;
    					 		for (var index in model.models) {
    					 		var secGroupName = model.models[index].get('name');
    					 		if (secGroupName !== securityGroupsModel.get('name')) {
    			 					securityGroupName = secGroupName;
    			 					securityGroupId = model.models[index].get('id');
    					 	%>
    				 		<option value="<%= securityGroupId%>"><%= securityGroupName%></option>
    				 		<% } } %>
    				 		</optgroup>
    				   	</select>
    			</div>

    			<div class="control-group form-field span2 inline-block cidrSelect">
    				    <label for="id_name">CIDR</label>
    				    <span class="help-block" >Classless Inter-Domain Routing (e.g. 192.168.0.0/24, 2001:db8:1234::/48)</span>
    				    <div class="input">
    				    	<input id="cidr" rel="tooltip" data-placement="right" type="text" name="cidr" value="0.0.0.0/0" required maxlength="255" pattern="^([01]?\d\d?|2[0-4]\d|25[0-5])\.([01]?\d\d?|2[0-4]\d|25[0-5])\.([01]?\d\d?|2[0-4]\d|25[0-5])\.([01]?\d\d?|2[0-4]\d|25[0-5])\/(\d|[0-2]\d|3[0-2])$|^\s*((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*\/(1([01]\d|2[0-8])|\d\d?)$">
    				    </div>
    			</div>
        	 </fieldset>

       	</div>

        <div class="log-messages-modal" id="log-messages-rules"></div>

        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" class="btn btn-blue pull-right" name='<%= securityGroupsModel.get('id')%>' value="Add Rule">
            <a id="cancel" class="close btn seconday cancel close" data-dismiss="modal">Close</a>
        </div>
    </form>
</div>
</script>

<script id="editSubnetFormTemplate" type="text/html">
<div id="edit_subnet" class="modal hide in" style="display: block; overflow: visible;">
<!--
Description: Edit Subnet Form
src: templates/forms/editSubnet.html
-->
<div class="modal-header">
    <a href="#" class="close" data-dismiss="modal">×</a>
    <h3>Edit Subnet</h3>
</div>

<form id="form" onSubmit="return false;">

    <div id="input_subnet" class="tab-pane tab-adjustable active" style="overflow: visible;">
        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>                  
                    <div class="control-group form-field clearfix">
                        <label for="subnet-name">Subnet Name</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input type="text" name="subnet_name" id="subnet_name" value="<%=model.get("name")%>"/>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="enable-dhcp" class="label_check">Enable DHCP</label>
                        <span class="help-block"></span>
                        <input type="checkbox" <%if(model.get('enable_dhcp')){%>checked="checked"<%}%> name="enable_dhcp" value="<%=model.get("enable_dhcp")%>" id="enable_dhcp" />
                    </div>
                </fieldset>
            </div>
            <div class="right">
                <fieldset>
                    <div class="control-group form-field clearfix">
                        <label for="gateway-ip">Gateway IP</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input type="text" name="gateway_ip" id="gateway_ip" value="<%=model.get("gateway_ip")%>"/>
                        </div>
                    </div>
                    <%
                    var dn = ''; 
                    for(var d in model.get("dns_nameservers")) {
                        dn = dn + model.get("dns_nameservers")[d];
                        if (d < model.get("dns_nameservers").length - 1) {
                            dn = dn + '\n';
                        }
                    }%>
                    <div class="control-group form-field clearfix">
                        <label for="dns-name-servers">DNS Name Servers</label>
                        <span class="help-block"></span>
                        <div class="input tip" data-tooltip="One entry per line.">
                            <textarea id="dns_name_servers" rows="3" cols="15" name="dns_name_servers"><%=dn%></textarea>
                        </div>
                    </div>
                    <%
                    var ht = ''; 
                    for(var d in model.get("host_routes")) {
                        ht = ht + model.get("host_routes")[d].destination + ',' + model.get("host_routes")[d].nexthop;
                        if (d < model.get("host_routes").length - 1) {
                            ht = ht + '\n';
                        }
                    }%>
                    <div class="control-group form-field clearfix">
                        <label for="host-routes">Host Routes</label>
                        <span class="help-block"></span>
                        <div class="input tip", data-tooltip="Additional routes announced to the hosts. One entry per line.">
                            <textarea placeholder="<destination_netw>,<nexthop>" id="host_routes" rows="3" cols="15" name="host_routes"><%=ht%></textarea>
                        </div>
                    </div>
                </fieldset>

            </div>
        </div>
    </div>

        
    <div class="modal-footer">
        <p class="mandatoryMess">* Mandatory fields.</p>
        <input type="submit" id="update_subnet_button"  class="btn btn-blue btn-update-subnet pull-right" value="Update"/>
        <a id="cancelBtn-subnet" class="btn secondary cancel close">Cancel</a>
    </div>
</form>

</script>
<script id="editTierFormTemplate" type="text/html">
<div id="edit_tier" class="modal draggable_table hide in" style="display: block; ">
    <!--
    Description: Edit Tier Form
    src: templates/forms/editTier.html
    -->
    <div class="modal-header">
        <a id="close-image" class="close" data-dismiss="modal">×</a>
        <h3><%= tier.flavour !== undefined ? "Update" : "Create"%> Tier</h3>
    </div>

    <form id="form" onSubmit="return false;" class="form-horizontal">
        
        <ul id="createTab" class="nav nav-tabs steps_tab">
        
        <% for (var s in steps) {
            if(s != 0) {%>
            <span id="<%=steps[s].id%>_line" class="steps_line"></span>
            <%}%>
          <li id="<%=steps[s].id%>_tab" class="<%if(s == 0) {%>active<%}%>"><%=parseInt(s)+1%>. <%=steps[s].name%></li>
          <%}%>
        </ul>
        <div id="input_details" class="tab-pane tab-adjustable active in">
        <div class="modal-body clearfix" style="overflow: hidden">
                <div class="left form-progress tip" data-tooltip="Modify the minimum and maximum instances number in the textboxes. Drag the white circle to modify the initial instances number." style="position:relative">
                    <div class="progress-wgt">
                        <input name="tier-initial-value" class="dial-form" data-width="200" data-height="230" data-offset="25" data-min="<%=tier.minimunNumberInstances || 0%>" data-max="<%=tier.maximumNumberInstances || 4%>" data-displayinput="false" data-displayprevious="false" value="<%=tier.initialNumberInstances || 1%>" data-thickness="0.08" data-valuesize="10" data-readonly="false" data-fgcolor="#0093C6" data-bgcolor="#0093C6" data-linecolor="#999">
                        <div class="circle-progress-data">
                            <input name="tier-max-value" id="tier-max-value" class="tier-max-value tier-values" required value="<%=tier.maximumNumberInstances || 4%>">
                            <input name="tier-min-value" id="tier-min-value" class="tier-min-value tier-values" required value="<%=tier.minimumNumberInstances || 0%>">
                            <span class="tier-image-back">?</span>
                            <div class="image-container">
                                <table id="wrapper">
                                  <tr>
                                     <td><img id="edit-tier-image" class="tier-image" src="<%=tier.icono%>"></img></td>
                                  </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="right form-horizontal">
                    <fieldset>

                        <div class="control-group form-field clearfix">
                            <label class="control-label" for="name">Name *:</label>
                            <div class="controls">
                                <input required id="name" type="text" name="name" maxlength="255" value="<%=tier.name%>"  pattern="^[a-zA-Z0-9]+$" title="This field can only contain letters and numbers">
                            </div>
                        </div>

                        <div class="control-group form-field clearfix">
                            <label class="control-label" for="id_region">Region:</label>

                            <div class="controls">
                                <select name="region" id="id_region">
                                    <% for (var index in regions) {
                                        var sel = (regions[index] === current_region);
                                    %>
                                    <option value="<%=regions[index]%>" <%if(sel) {%> selected="selected" <%}%>><%= regions[index]%></option>
                                    <%}%>
                                </select>
                            </div>
                        </div>

                        <div class="control-group form-field clearfix">
                            <label class="control-label" for="flavor">Flavor *:</label>
                            <div class="controls">
                                <select name="flavor" id="id_flavor">
                                    <option value="" selected="selected">Loading ...</option>
                                </select>
                            </div>
                        </div>

                        <div class="control-group form-field clearfix">
                            <label class="control-label" for="image">Image *:</label>
                            <div class="controls">
                                <select name="image" id="id_image">
                                    <option value="" selected="selected">Loading ...</option>
                                </select>
                            </div>
                        </div>

                        <div class="control-group form-field clearfix">
                            <label class="control-label" for="id_icon">Icon:</label>

                            <div class="controls">
                                <input id="icon" type="text" name="icon" maxlength="255" value="<%=tier.icono%>"><a id="btn-apply-icon" class="btn btn-white">View</a>
                            </div>
                        </div>

                        <div class="control-group form-field clearfix">
                            <label class="control-label" for="id_keypair">Keypair:</label>

                            <div class="controls">
                                <select name="keypair" id="id_keypair">
                                    <option value="" selected="selected">Loading ...</option>
                                </select>
                            </div>
                        </div>

                        <% if (JSTACK.Keystone.getendpoint(current_region, "network") === undefined) {%>
                        <div class="control-group form-field clearfix">
                            <label class="control-label" for="id_public_ip">Public IP:</label>

                            <div class="controls">
                                <input type="checkbox" name="public_ip" <%=(tier.floatingip==='true')?'checked':''%>>
                            </div>
                        </div>
                        <% } %>
                    </fieldset>
                </div>
            </div>
        </div>
        <div id="software_tab" class="tab-pane tab-adjustable" style="display: none">
            <div class="modal-body clearfix">
                <div id="scroll-based-layer" style="overflow: hidden; width: 100%">
                        <div style="width: 1600px;height: 320px;">

                            <div class="row-fluid tier-sdc blurable scroll-left">
                                <div style="height: 100%; position: relative" class="span6">
                                    <h2 class="tier-sdc-title">Software in Tier</h2>
                                    <div style="position: absolute; top: 45px; bottom: 0px; width: 100%">
                                       <div id="installedSoftware-table"></div>
                                   </div>
                                </div>
                                <div style="height: 100%; position: relative" class="span6">
                                    <h2 class="tier-sdc-title title-catalogue">Software in Catalogue</h2>
                                    <div style="position: absolute; top: 45px; bottom: 0px; width: 100%">
                                        <div id="newSoftware-table"></div>
                                    </div>
                                </div>

                            </div>

                        <div id="edit-software-attributes" class="right">
                            <table id="product_attributes" class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th style="width: 30%;">Attribute</th>
                                        <th style="width: 30%;">Value</th>
                                        <th style="width: 40%;">Description</th>
                                    </tr>
                                </thead>
                                <tbody id="software-attrs-table">
                                    <tr class="odd empty">
                                        <td colspan="6">No items to display.</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="submodal-footer">
                                <a id="accept-attrs" class="btn btn-blue pull-right">Accept</a>
                                <a id="cancel-attrs" class="btn seconday cancel">Cancel</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="network_tab" class="tab-pane tab-adjustable" style="display: none">
            <div class="modal-body clearfix">

                <div id="scroll-based-layer-networks" style="overflow: hidden; width: 100%">
                    <div style="width: 1600px;height: 320px;">

                        <div class="row-fluid tier-networks blurable scroll-right">
                            <div style="height: 100%; position: relative" class="span6">
                                <h2 class="tier-network-title">Connected to Networks</h2>
                                <div style="position: absolute; top: 45px; bottom: 0px; width: 100%">
                                   <div id="installedNetwork-table"></div>
                               </div>
                            </div>
                            <div style="height: 100%; position: relative" class="span6">
                                <h2 class="tier-network-title">Available Networks</h2>
                                <div style="position: absolute; top: 45px; bottom: 0px; width: 100%">
                                    <div id="newNetwork-table"></div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>

        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input id="nextBtn-image" type="submit" class="btn btn-blue btn-launch-image pull-right" value="Next"/>
            <a id="cancelBtn-image" class="btn secondary cancel close">Cancel</a>
        </div>
    </form>
</div>
</script>

<script id="editUserFormTemplate" type="text/html">
<div id="edit_user" class="modal hide in" style="display: block; ">
    <!--
    Description: Edit User Form
    src: templates/forms/editUser.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Edit User</h3>
    </div>

    <form id="form" onSubmit="return false;">
        <div class="modal-body clearfix">

            <div class="left">
                <fieldset>

                    <div class="control-group form-field clearfix">
                        <label for="id_name">User Name *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="name" type="text" name="name" maxlength="255" value="<%= model.get('name') %>">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Email *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="email" type="email" name="email" maxlength="255" value="<%= model.get('email') %>">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Password *</label>

                        <span class="help-block" style="display: none; "></span>

                        <div id= "password" class="input">
                        <a class="tip" data-tooltip="Show password"><img class="btn-eye" src="../../images/btn-eye.png"></a>

                            <a class="tip" data-tooltip="Hide password"><img class="btn-eye-active" src="../../images/btn-eye-active.png" style="display: none; "></a>
                            <input id="user_password" type="password" name="user_password" maxlength="255">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_description">Confirm Password *</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                           	<input id="confirm_password" type="password" name="confirm_password" maxlength="255">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
					    <label for="id_name">Primary Project</label>
					 	<select id="project_switcher" tabindex="1" class="inline">
                            <% console.log("Tenant ", model.get('tenantId'));
                            for (var idx in tenants.models) {
                                var tenant = tenants.models[idx];
                            %>
                            <option value="<%=tenant.get('id')%>" <% if (tenant.get('id') === model.get('tenantId')) { console.log("Ok")%> selected <% } %> ><%= tenant.get('name')%></option>
                            <%
                            }
                            %>
                        </select>
		 			 </div>

                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    From here you can edit the user by changing their username, email, password, and default project.
                </p>
            </div>

        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" class="btn btn-blue edit-user pull-right"value="Edit User"/>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="editVolumeAttachmentsFormTemplate" type="text/html">
<div id="attach_volume_modal" class="modal hide in" style="display: block; ">
    <!--
    Description: Edit Volume Attachments Form
    src: templates/forms/editVolumeAttachments.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Manage Volume Attachments</h3>
    </div>

    <div class="modal-body">

        <div class="table_wrapper">

            <table id="attachments" class="table table-bordered table-striped">
                <thead>
                    <tr class="table_caption">
                        <th class="table_header" colspan="4"><h3 class="table_title">Attachments</h3>
                        <div class="table_actions clearfix">

                            <button id="attachments__action_detach" disabled=true class="btn btn-small btn-danger btn-detach detach-Volumes" name="action" value="attachments__detach" type="submit">
                                Detach Volumes
                            </button>

                        </div></th>
                    </tr>
                    <tr>

                        <th class="multi_select_column"></th>

                        <th class="">Instance</th>

                        <th class="">Device</th>

                        <th class="actions_column">Actions</th>

                    </tr>
                </thead>
                <tbody>
                    <%
                    for (var index in model.get("attachments")) {
                    var attach = model.get("attachments")[index];
                    %>
                    <tr id="attachments__row__<%=attach.volume_id%>" class="">
                        <td class="multi_select_column">
                        <input type="checkbox" class="checkbox_attachments" name="object_ids" value="<%=attach.server_id%>">
                        </td>
                        <td class=""><%=attach.server_id%></td>
                        <td class=""><%=attach.device%></td>
                        <td class="actions_column">
                        <button id="attachments__row_<%=attach.volume_id%>__action_detach" class="btn btn-small btn-danger btn-detach detachBtn" name="action" value="<%=attach.server_id%>" type="submit">
                            Detach Volume
                        </button></td>
                    </tr>
                    <%
                    }
                    %>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="4"><span>Displaying <%=model.get("attachments").length%> items</span></td>

                    </tr>
                </tfoot>
            </table>

        </div>

    </div>
    <hr>

    <div class="modal-body clearfix">
        <form onSubmit="return false;" class=" horizontal split_half">
        <h3>Attach To Instance</h3>
        <fieldset>

            <div class="control-group form-field clearfix">
                <label for="id_instance">Attach to Instance *</label>

                <span class="help-block" style="display: none; ">Select an instance to attach to.</span>
                <div class="input">
                    <select name="instance" id="id_instance">
                        <option value="" selected="selected">Select an instance</option>
                        <%
                        for (var index in instancesModel.models) {
                        var instance = instancesModel.models[index];
                        %>
                        <option value="<%=instance.id%>"><%= instance.get("name")%></option>
                        <%
                        }
                        %>
                    </select>
                </div>
            </div>

            <div class="control-group form-field clearfix">
                <label for="id_device">Device Name *</label>

                <span class="help-block" style="display: none; "></span>
                <div class="input">
                    <input type="text" name="device" value="/dev/vdc" id="id_device">
                </div>
            </div>

        </fieldset>
        </form>

    </div>
    <div class="modal-footer">
        <p class="mandatoryMess">* Mandatory fields.</p>
        <input class="btn btn-blue pull-right attachBtn" type="submit" value="Attach Volume">
        <a class="btn secondary cancel close cancelBtn">Cancel</a>
    </div>
</div>
</script>
<script id="importKeypairFormTemplate" type="text/html">
<div id="import_keypair" class="modal hide ">
    <!--
    Description: Import Keypair Form
    src: templates/forms/importKeypair.html
    -->
    <div class="modal-header">
        <a id="close" href="#" class="close" data-dismiss="modal">&times;</a>
        <h3>Import Keypair</h3>
    </div>
    <form action="" id="import_keypair_form">
    <div class="modal-body clearfix">
        <div class="left">
            <fieldset>
                <div class="control-group form-field clearfix">
                    <label for="name">Keypair Name</label>
                    <span class="help-block"></span>
                    <div class="input">
                        <input type="text" name="name" value="" id="name" />
                    </div>
                </div>
                <div class="control-group form-field clearfix">
                    <label for="name">Public Key</label>
                    <span class="help-block"></span>
                    <div class="input">
                        <textarea type="text" rows="10" cols="40" name="public_key" value="" id="public_key" style="resize: none;"></textarea>
                    </div>
                </div>
            </fieldset>
        </div>
        <div class="right">
            <h3>Description</h3>
            <p>
                Keypairs are ssh credentials which are injected into images when they are launched. 
                Importing a new key pair registers the public key in order to be used with the associated private key.
            </p>
        </div>
    </div>
    <div class="modal-footer">
        <a id="importBtn" class="btn btn-blue pull-right" data-dismiss="modal">Import Keypair</a>
        <a id="cancelImportBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
    </div>
    </form>
</div>
</script>
<script id="installSoftwareFormTemplate" type="text/html">
<div id="install_software" class="modal hide in" style="top: 107px; display: block; ">
    <!--
    Description: Install Software Form
    src: templates/forms/installSoftware.html
    -->

    <div class="modal-header">
        <a href="#nova/vdcs/mockVDC/" class="close" data-dismiss="modal">×</a>
        <h3>Install Mediawiki 1.17</h3>
    </div>
    <form action="" id="install_software_form">
        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>
                    <div class="control-group form-field clearfix">
                        <label for="id_name"> Name</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="id_name" type="text" name="name" maxlength="255">
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_name">Path</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="id_name" type="text" name="name" maxlength="255">
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
        <div class="modal-footer">
            <a id="submit" class="btn btn-blue pull-right" data-dismiss="modal">Install</a>
            <a href="#nova/vdcs/mockVDC/" id="cancelBtn" class="btn secondary cancel">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="launchImageTemplate" type="text/html">
<div id="launch_image" class="modal hide  in" style="display: block; ">
    <!--
    Description: Launch ImageForm
    src: templates/forms/launchImage.html
    -->
    <div class="modal-header">
        <a id="close-image" href="#" class="close" data-dismiss="modal">&times;</a>
        <h3>Launch Instances</h3>
    </div>

    <form id="form" onSubmit="return false;">

    <ul ud="launchTab" class="steps_tab nav nav-tabs">
          <% for (var s in steps) {
            if(s != 0) {%>
            <span id="<%=steps[s].id%>_line" class="steps_line"></span>
            <%}%>
          <li id="<%=steps[s].id%>_tab" class="<%if(s == 0) {%>active<%}%>"><%=parseInt(s)+1%>. <%=steps[s].name%></li>
          <%}%>
          <!--<li class="">
            <a id="volumes" href="#input_volumes" data-toggle="tab">Volume Options</a>
          </li>-->
        </ul>

    <!--<div id="myTabContent" class="tab-content">-->
        <div id="input_details" class="tab-pane tab-adjustable active in">
            <div class="modal-body clearfix">

                <div class="left">
                    <fieldset>

                        <div class="control-group form-field clearfix">
                            <label for="id_name">Instance Name *</label>

                            <span class="help-block" style="display: none; "></span>
                            <div class="input">
                                <input id="id_name" required type="text" name="instance_name" maxlength="80">
                            </div>
                        </div>
                        <div class="control-group form-field clearfix flavorOptionsSelect">
                            <label for="id_flavor">Flavor</label>

                            <span class="help-block" style="display: none; ">Size of image to launch.</span>
                            <div class="input">
                                <select name="flavor" id="id_flavor">
                                    <%                                    
                                    for (var index in flavors.models) {
                                        var flavor = flavors.models[index];
                                        var prop = model.get("properties") || {};
                                        var min_disk = model.get('min_disk');
                                        if (min_disk === undefined) min_disk = model.get('minDisk');
                                        var min_ram = model.get('min_ram');
                                        if (min_ram === undefined) min_ram = model.get('minRam');

                                        if (flavor.get('disk') >= min_disk && 
                                            flavor.get('ram') >= min_ram) {
                                            if (!prop.sdc_aware || (prop.sdc_aware && flavor.get("disk") !== 0)) {
                                    %>
                                    <!--<option value="<%=flavor.id%>"><%=flavor.get("name") + " (" + flavor.get("vcpus") + "VCPU / " + flavor.get("disk") + "GB Disk / " + flavor.get("ram") + "MB Ram )" %></option>-->
                                    <option value="<%=flavor.id%>"><%=flavor.get("name")%></option>
                                    <% 
                                            }
                                        }
                                    }
                                    %>
                                </select>
                            </div>
                        </div>

                        <div class="control-group form-field clearfix">
                            <label for="id_count">Instance Count *</label>

                            <span class="help-block" style="display: none; ">Number of instances to launch.</span>
                            <div class="input">
                                <input id="icount" type="text" required name="instance_count" value="1" id="id_count" pattern="[1-9]\d{0,1000000}(?!\d)">
                            </div>
                        </div>

                        <div class="control-group form-field clearfix hide">
                            <label for="id_volume">Volume or Volume Snapshot</label>

                            <span class="help-block" style="display: none; ">Volume to boot from.</span>
                            <div class="input">
                                <select name="volume" id="id_volume">
                                    <option value="" selected="selected">Select Volume</option>
                                </select>
                            </div>
                        </div>

                        <div class="control-group form-field clearfix hide">
                            <label for="id_device_name">Device Name</label>

                            <span class="help-block" style="display: none; ">Volume mount point (e.g. 'vda' mounts at '/dev/vda').</span>
                            <div class="input">
                                <input type="text" name="device_name" value="vda" id="id_device_name">
                            </div>
                        </div>

                        <div class="control-group form-field clearfix hide">
                            <label for="id_delete_on_terminate">Delete on Terminate</label>

                            <span class="help-block" style="display: none; ">Delete volume on instance terminate</span>
                            <div class="input">
                                <input type="checkbox" name="delete_on_terminate" id="delete_on_terminate">
                            </div>
                        </div>

                    </fieldset>
                </div>
                <div class="right">
                    <h3>Description</h3>
                    <p>Specify the details for launching an instance. The chart below shows the resources used by this project in relation to the project's quotas.
                    </p>
                    <%
                        var quotaset = quotas.quota_set;
                        var cpus = quotas.cpus;
                        var ram = quotas.ram;
                        var disk = quotas.disk;
                    %>
                    <h3>Flavor Details</h3>
                    <table id="flavor_table" class="table-striped flavorOptionsSelect">
                      <tbody>
                        <tr><td style="width:70%;">Name</td><td><span id="flavor_name"></span></td></tr>
                        <tr><td style="width:70%;">VCPUs</td><td><span id="flavor_vcpus"></span></td></tr>
                        <tr><td style="width:70%;">Root Disk</td><td><span id="flavor_disk"></span> GB</td></tr>
                        <tr><td style="width:70%;">Ephemeral Disk</td><td><span id="flavor_ephemeral"></span> GB</td></tr>
                        <tr><td style="width:70%;">Total Disk</td><td><span id="flavor_disk_total"></span> GB</td></tr>
                        <tr><td style="width:70%;">RAM</td><td><span id="flavor_ram"></span> MB</td></tr>
                      </tbody>
                    </table>

                    <h3>Project Quotas</h3>

                    <div class="quota_title">
                        <strong>Instance Count <span>(<%=instancesModel.length%>)</span></strong>
                        <p>
                            <%= quotaset.instances - instancesModel.length %> Available
                        </p>
                    </div>
                    <div class="quota_bar">
                        <div class="progress_bar">
                            <div class="progress_bar_fill" style="width: <%= 100 * (instancesModel.length) / quotaset.instances %>%"></div>
                            <div id="icountbar" class="progress_bar_new"></div>
                        </div>
                    </div>

                    <div class="quota_title">
                        <strong>VCPUs <span>(<%= cpus %>)</span></strong>
                        <p>
                            <%= quotaset.cores - cpus %> Available
                        </p>
                    </div>
                    <div class="quota_bar">
                        <div class="progress_bar">
                            <div class="progress_bar_fill" style="width: <%= 100 * (cpus) / quotaset.cores %>%"></div>
                            <div id="cpubar" class="progress_bar_new"></div>
                        </div>
                    </div>

                    <% if (quotaset.gigabytes) { %>

                    <div class="quota_title">
                        <strong>Disk <span>(<%= disk %> GB)</span></strong>
                        <p>
                            <%= quotaset.gigabytes - disk %> GB Available
                        </p>
                    </div>
                    <div class="quota_bar">
                        <div class="progress_bar">
                            <div class="progress_bar_fill" style="width: <%= 100 * (disk) / quotaset.gigabytes %>%"></div>
                            <div id="diskbar" class="progress_bar_new"></div>
                        </div>
                    </div>

                    <% } %>

                    <div class="quota_title">
                        <strong>Memory <span>(<%= ram %> MB)</span></strong>
                        <p>
                            <%= quotaset.ram - ram %> MB Available
                        </p>
                    </div>
                    <div class="quota_bar">
                        <div class="progress_bar">
                            <div class="progress_bar_fill" style="width: <%= 100 * (ram) / quotaset.ram %>%"></div>
                            <div id="rambar" class="progress_bar_new"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="input_access_and_security" class="tab-pane tab-adjustable" style="display: none">
            <div class="modal-body clearfix">
                <div class="left">
                    <fieldset>                  
                        <div class="control-group form-field clearfix">
                            <label for="id_keypair">Keypair</label>

                            <span class="help-block" style="display: none; ">Which keypair to use for authentication.</span>
                            <div class="input">
                                <select name="keypair" id="id_keypair">
                                    <option value="" selected="selected">Select a keypair</option>
                                    <% if (keypairs.size() == 0) { %>
                                    <option value="" selected="selected">No keypairs available.</option>
                                    <% } else {
                                    for (var index in keypairs.models) {
                                    var keypair = keypairs.models[index];
                                    %>
                                    <option value="<%=keypair.get('name')%>"><%= keypair.get("name")%></option>
                                    <%  }
                                    }%>
                                </select>

                            </div>
                            <input id="add-keypair" type="button" class="btn btn-white btn-small" value="Create new Keypair">

                        </div>

                        <div class="control-group form-field clearfix">
                            <label for="id_security_groups">Security Groups</label>

                            <span class="help-block" style="display: none; ">Launch instance in these security groups.</span>
                            <div class="input">
                                <ul id="security_groups_list">
                                <%  for (var index in secGroups.models) {
                                        var sec = secGroups.models[index];
                                %>
                                    <li>
                                    <p>
                                    <input style="width: 15px;float:left;" type="checkbox" name="security_groups" value="<%=sec.get('name')%>">
                                    <div style="width: 300px; overflow: hidden; text-overflow: ellipsis"><%=sec.get('name')%></div>
                                    </p>
                                    </li>
                                <%
                                    }
                                %>
                                </ul>
                                <input id="add-sec-group" type="button" class="btn btn-white btn-small" value="Add new Security Group">
                            </div>
                        </div>
                    </fieldset>  
                </div>
                <div class="right">
                    <h3>Description</h3>
                    <p>
                        Control access to your instance via keypairs, security groups, and other mechanisms.
                    </p>
                </div>
            </div>
        </div>
        <%if (networks) {%>
        <div id="input_networks" class="tab-pane tab-adjustable" style="display: none">
            <div class="modal-body clearfix">
                <div class="left">
                    <fieldset>                  
                        <div class="control-group form-field clearfix">
                        <label for="networks">Selected Networks</label>
                            <div class="input">
                                <ul id="network-selected" class="network-sortable connected">
                                </ul>
                            </div>
                        <label for="networks">Available Networks</label>
                            <div class="input">
                                <ul class="network-sortable connected">
                                <%  for (var index in networks) {
                                        var network = networks[index];
                                %>
                                    <li>
                                        <div value="<%=network.get('id')%>" style="width: 300px; overflow: hidden; text-overflow: ellipsis"><%=network.get('name') === "" ? "("+network.get("id").slice(0,8)+")" : network.get('name')%></div>
                                    </li>
                                <%
                                    }
                                %>
                                </ul>
                            </div>
                        </div>
                    </fieldset>  
                </div>
                <div class="right">
                    <h3>Description</h3>
                    <p>
                        Control access to your instance via keypairs, security groups, and other mechanisms.
                    </p>
                    <p>
                        Drag and drop the networks to which you want to connect the instance from "Available" to "Selected".
                    </p>
                </div>
            </div>
        </div>
        <%}%>

        <div id="input_volumes" class="tab-pane tab-adjustable" style="display: none">
            <div class="modal-body clearfix">
                <div class="left">
                    <fieldset>                  
                        <div class="control-group form-field clearfix volumeOptionsSelect">
                            <label for="volume_option">Volume Options</label>

                            <span class="help-block"></span>
                            <div class="input">
                                <select name="volume_options" id="volume_options">
                                    <option value="not_volume">Don't boot from volume.</option>
                                    <option value="volume">Boot from volume.</option>
                                    <option value="snapshot">Boot from volume snapshot (creates a new volume).</option>
                                </select>
                            </div>
                        </div>
                        <div class="control-group form-field clearfix volume" style="display:none">
                            <label for="volume">Volume</label>

                            <span class="help-block" style="display: none; "></span>
                            <div class="input">
                                <select name="volume_snapshot" id="volume">
                                    <option value="">Select Volume</option>
                                    <%for (var index in volumes.models) {
                                    var name = volumes.models[index].get("display_name");
                                    var size = volumes.models[index].get("size");%>
                                    <option value="<%=volumes.models[index].get("id")%>"><%=name+" - "+size+" GB (Volume)"%></option>
                                    <%}%>
                                </select>                        
                            </div>
                        </div>
                        <div class="control-group form-field clearfix device_name">
                            <label for="device_name">Device Name</label>

                            <span class="help-block" style="display: none; "></span>
                            <div class="input">
                                <input type="text" id="device_name" rows="3" cols="10" name="device_name" value="vda">
                            </div>
                        </div>
                        <div class="control-group form-field clearfix hide delete_on_terminate" style="display:none>
                            <label for="delete_on_terminate">Delete on Terminate</label>

                            <span class="help-block" style="display: none; ">Delete volume on instance terminate</span>
                            <div class="input">
                                <input type="checkbox" id="delete_on_terminate" name="delete_on_terminate">
                            </div>
                        </div>
                    </fieldset>  
                </div>
                <div class="right">
                    <h3>Description</h3>
                    <p>
                        You can customize your instance after it's launched using the options available here. The "Customization Script" field is analogous to "User Data" in other systems.
                    </p>
                </div>
            </div>
        </div>

        <div id="input_post-creation" class="tab-pane tab-adjustable" style="display: none">
            <div class="modal-body clearfix">
                <div class="left">
                    <fieldset>                  
                        <div class="control-group form-field clearfix">
                            <label for="id_user_data">Customization Script</label>

                            <span class="help-block" style="display: none; "></span>
                            <div class="input">
                                <textarea id="id_user_data" rows="10" cols="10" wrap="off" name="user_data"></textarea>
                            </div>
                        </div>
                    </fieldset>  
                </div>
                <div class="right">
                    <h3>Description</h3>
                    <p>
                        You can customize your instance after it's launched using the options available here. The "Customization Script" field is analogous to "User Data" in other systems.
                    </p>
                </div>
            </div>
        </div>

        <div id="input_summary" class="tab-pane tab-adjustable" style="display: none">
            <div class="modal-body clearfix">
               
                <table class="summary_table">
                  <tbody>
                    <tr><td><label>Instance Name: </label></td><td><span id="sum_instanceName"></span></td></tr>
                    <tr><td><label>Image: </label></td><td><span id="sum_image"></span></td></tr>
                    <tr><td><label>Flavor: </label></td><td><span id="sum_flavour"></span></td></tr>
                    <tr><td><label>Instance Count: </label></td><td><span id="sum_instanceCount"></span></td></tr>
                    <tr><td><label>Keypair: </label></td><td><span id="sum_keypair"></span></td></tr>
                    <tr><td><label>Security Group: </label></td><td><span id="sum_secgroup"></span></td></tr>
                  </tbody>
                </table>
                <div id="summary_errors">
                    <hr>
                    <table class="summary_table">
                      <tbody>
                        <tr id="quota_error"><td><label>Error: </label></td><td><span>You have exceeded your quota limit. Check it to launch the instance.</span></td></tr>
                        <tr id="network_error"><td><label>Error: </label></td><td><span>You have to specify at least a network.</span></td></tr>
                      </tbody>
                    </table>
                </div>
                <hr>
                <table id="summary_warnings" class="summary_table">
                  <tbody>
                  <tr><td><label>To access the instance: </label></td><td></td></tr>
                  <tr><td></td><td>You need to include a security group with port 22 opened to access via SSH.</td></tr>
                  <tr><td></td><td>You need to assign a floating IP to access from a external network.</td></tr>
                  </tbody>
                </table>
                <!--<hr>
                <table id="summary_monitoring_true" class="summary_table">
                  <tbody>
                  <tr><td><label>Instance Monitoring:</label></td><td></td></tr>
                  <tr><td></td><td>In this tenant already exists a monitoring network ('administrator'). It will be used to retrieve monitoring data from this instance.</td></tr>
                  </tbody>
                </table>
                <table id="summary_monitoring_false" class="summary_table hide">
                  <tbody>
                  <tr><td><label>Instance Monitoring:</label></td><td></td></tr>
                  <tr><td></td><td>In this tenant does not exist a monitoring network for retrieve monitoring data from instances. If you want to monitor this instance you need to create it.</td></tr>
                  <tr><td></td><td><input type="checkbox" name="create_monit_network"> I agree to automatically create a monitoring network (named 'administrator') for this tenant.</td></tr>
                  </tbody>
                </table>-->
            </div>
        </div>
    <!--</div>-->


    <div class="modal-footer">
        <p class="mandatoryMess">* Mandatory fields.</p>
        <input id="nextBtn-image" type="submit" class="btn btn-blue btn-launch-image pull-right" value="Next"/>
        <a id="cancelBtn-image" class="btn secondary cancel close">Cancel</a>
    </div>
    </form>
</div>
</script>

<script id="launchVDCTemplate" type="text/html">
<div id="launch_vdc" class="modal hide  in" style="display: block; ">

    <!--
    Description: Launch VDCForm
    src: templates/forms/launchVDC.html
    -->
    <div class="modal-header">
        <a id="close" href="#" class="close" data-dismiss="modal">&times;</a>
        <h3>Launch VDC</h3>
    </div>

    <div class="modal-body clearfix">

        <ul class="nav nav-tabs" id="myTab">
            <li class="active">
                <a data-toggle="tab" href="#general-info" class="btn-general-info">General Info</a>
            </li>
            <li>
                <a data-toggle="tab" href="#topology" class="btn-topology">Topology</a>
            </li>
            <li>
                <a data-toggle="tab" href="#capacity" class="btn-capacity">Capacity</a>
            </li>
        </ul>

        <div class="tab-content">
            <div class="tab-pane active" id="general-info">
                <div class="left">
                    <fieldset>

                        <div class="control-group form-field clearfix">
                            <label for="id_name">VDC Name</label>

                            <span class="help-block" style="display: none; "></span>
                            <div class="input">
                                <input id="id_name" type="text" name="vdc_name" maxlength="80">
                            </div>
                        </div>

                        <div class="control-group form-field clearfix">
                            <label for="id_user_data">Description</label>

                            <span class="help-block" style="display: none; "></span>
                            <div class="input">
                                <textarea id="id_description" rows="10" cols="40" name="vdc_description"></textarea>
                            </div>
                        </div>

                    </fieldset>
                </div>

                <div class="right">
                    <h3>Description</h3>
                    <p>
                        Specify the details for launching a virtual data center.
                    </p>

                </div>
            </div>
            <div class="tab-pane" id="topology">
                <fieldset>
                <div class="left">


                    <div class="control-group form-field clearfix">
                        <label for="id_network_name">Virtual Network Name</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="id_network_name" type="text" name="network_name" maxlength="80">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_user_data">Description</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <textarea id="id_network_description" rows="10" cols="40" name="network_description"></textarea>
                        </div>
                    </div>


                </div>

                <div class="right">
                    <h3>Description</h3>
                    <p>
                        Network to be used in the Virtual Data Center.
                    </p>
                    <div class="control-group form-field clearfix">
                        <label for="id_user_data">Bandwidth (Gbps)</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="id_network_bandwidth" type="text" name="bandwidth" maxlength="80">
                        </div>
                    </div>

                    <div class="control-group form-field clearfix">
                        <label for="id_user_data">Size</label>

                        <span class="help-block" style="display: none; "></span>
                        <div class="input">
                            <input id="id_network_size" type="text" name="size" maxlength="80">
                        </div>
                    </div>
                </div>
                </fieldset>
            </div>
            <div class="tab-pane" id="capacity">
                <div class="left">
                    <fieldset>

                        <div class="control-group form-field clearfix">
                            <label for="id_name">Storage Capacity (GB)</label>

                            <span class="help-block" style="display: none; "></span>
                            <div class="input">
                                <input id="id_storage_capacity" type="text" name="storage" maxlength="80">
                            </div>
                        </div>

                        <div class="control-group form-field clearfix">
                            <label for="id_name">Number of vCPUs</label>

                            <span class="help-block" style="display: none; "></span>
                            <div class="input">
                                <input id="id_vcpus_capacity" type="text" name="vcpus" maxlength="80">
                            </div>
                        </div>

                        <div class="control-group form-field clearfix">
                            <label for="id_name">Memory (GB)</label>

                            <span class="help-block" style="display: none; "></span>
                            <div class="input">
                                <input id="id_memory_capacity" type="text" name="memory" maxlength="80">
                            </div>
                        </div>

                    </fieldset>
                </div>

                <div class="right">
                    <h3>Description</h3>
                    <p>
                        Specify the details for launching a virtual data center.
                    </p>
                </div>
            </div>
        </div>


    </div>
    <div class="modal-footer">

        <a id="cancelBtn" class="btn cancel close pull-left" data-i18n="Cancel">Cancel</a>

        <button class="btn btn-blue pull-right btn-accept" name="action" type="submit" data-i18n="Launch VDC">
            Launch VDC
        </button>

        <a class="btn btn-basic secondary btn-prev" data-i18n="Previous">
            Previous
        </a>

        <a class="btn btn-basic secondary btn-next" data-i18n="Next">
            Next
        </a>


    </div>

</div>
</script>
<script id="modifyQuotasFormTemplate" type="text/html">
<div id="modify_quota" class="modal hide in" style="display: block; ">
	
	    <!--
    Description: Modify Quotas Form
    src: templates/forms/modifyQuotas.html
    -->
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Update Quota</h3>
    </div>
    
	<div class="modal-body clearfix">
	    
				<div class="left">
				    <fieldset>
				    
				  <input type="hidden" name="method" value="UpdateQuotas" id="id_method">
				
				
				<% var attr;
				attr = model.attributes.quota_set;
               	%>
				  <div class="control-group form-field clearfix">
				    <label for="id_tenant_id">ID (name)</label>
				    
				    <span class="help-block" style="display: none;"></span>
				      <p>
				      <%= project%>
				      </p>
				  </div>
				
				  <div class="control-group form-field clearfix">
				    <label for="id_metadata_items">Metadata Items</label>
				    
				    <span class="help-block" style="display: none;"></span>
				    <div class="input">
				      <input type="number" name="metadata_items" value="<%= attr.metadata_items%>" id="id_metadata_items">
				    </div>
				  </div>
				
				  <div class="control-group form-field clearfix">
				    <label for="id_injected_files">Injected Files</label>
				    
				    <span class="help-block" style="display: none;"></span>
				    <div class="input">
				      <input type="number" name="injected_files" value="<%= attr.injected_files%>" id="id_injected_files">
				    </div>
				  </div>
				
				  <div class="control-group form-field clearfix">
				    <label for="id_injected_file_content_bytes">Injected File Content Bytes</label>
				    
				    <span class="help-block" style="display: none;"></span>
				    <div class="input">
				      <input type="number" name="injected_file_content_bytes" value="<%= attr.injected_file_content_bytes%>" id="id_injected_file_content_bytes">
				    </div>
				  </div>
				
				  <div class="control-group form-field clearfix">
				    <label for="id_cores">VCPUs</label>
				    
				    <span class="help-block" style="display: none;"></span>
				    <div class="input">
				      <input type="number" name="cores" value="<%= attr.cores%>" id="id_cores">
				    </div>
				  </div>
				
				  <div class="control-group form-field clearfix">
				    <label for="id_instances">Instances</label>
				    
				    <span class="help-block" style="display: none;"></span>
				    <div class="input">
				      <input type="number" name="instances" value="<%= attr.instances%>" id="id_instances">
				    </div>
				  </div>
				
				  <div class="control-group form-field clearfix">
				    <label for="id_volumes">Volumes</label>
				    
				    <span class="help-block" style="display: none;"></span>
				    <div class="input">
				      <input type="number" name="volumes" value="<%= attr.volumes%>" id="id_volumes">
				    </div>
				  </div>
				
				  <div class="control-group form-field clearfix">
				    <label for="id_gigabytes">Gigabytes</label>
				    
				    <span class="help-block" style="display: none;"></span>
				    <div class="input">
				      <input type="number" name="gigabytes" value="<%= attr.gigabytes%>" id="id_gigabytes">
				    </div>
				  </div>
				
				  <div class="control-group form-field clearfix">
				    <label for="id_ram">RAM (in MB)</label>
				    
				    <span class="help-block" style="display: none;"></span>
				    <div class="input">
				      <input type="number" name="ram" value="<%= attr.ram%>" id="id_ram">
				    </div>
				  </div>
				
				  <div class="control-group form-field clearfix">
				    <label for="id_floating_ips">Floating IPs</label>
				    
				    <span class="help-block" style="display: none;"></span>
				    <div class="input">
				      <input type="number" name="floating_ips" value="<%= attr.floating_ips%>" id="id_floating_ips">
				    </div>
				  </div>
				
				
				    </fieldset>
				</div>
				<div class="right">
				    <h3>Description:</h3>
				    <p>From here you can edit quotas (max limits) for the project.</p>
				</div>	
	    </div>
	    <div class="modal-footer">
            <input type="submit" class="btn btn-blue update-quota pull-right" value="Update Quota"/>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="modifyUsersTemplate" type="text/html">
<!--
Description: Modify Users
src: templates/root/forms/modifyUsers.html
-->

<div id="users_for_project"></div>

<div id="add_new_users"></div>

</script>
<script id="projectInfoFormTemplate" type="text/html">
<div id="project_info" class="modal hide in" style="top: 107px; display: block; ">
    <!--
    Description: Download Openrc file Form
    src: templates/forms/downloadOpenrc.html
    -->

    <div class="modal-header">
        <a id="close" href="#" class="close" data-dismiss="modal">×</a>
        <h3>Project Info</h3>
    </div>
    <form id="project_info_form" onSubmit="return false;" >
        <div class="modal-body clearfix">
            <div class="left">
                <h3>Credentials</h3>
                <br>
                <p>
                User name: <strong><%=  username %></strong>
                </p>
                <p>
                Tenant name: <strong><%= tenant_name %></strong>
                </p>
                <p>
                Tenant id: <strong><%= tenant_id %></strong>
                </p>
                <p>
                Region: <strong><%= current_region %></strong>
                </p>
                <p>
                Authentication URL: <strong><%= auth_url %></strong>
                </p>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                The information shown here, refers to the main variables of authentication required to access Openstack services from the console.
                </p>
                How to:
                <p>
                <ul>
                    <li>1. Download your openrc file.</li>
                    <li>2. Edit the file configuring your OS_PASSWORD variable.</li>
                    <li>3. Source openrc file in your console.</li>
                    <li>4. Start working!.</li>
                </ul>

                </p>
            </div>
        </div>

        <div class="modal-footer">
            <input type="submit" class="btn btn-blue pull-right" value="Download openrc file"/>
            
            <!-- Hay que cambiar la url a la que dirige el cancel -->
            <a href="#" id="cancelBtn" class="btn secondary cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="rebootInstancesFormTemplate" type="text/html">
<div id="instances_reboot" class="modal hide ">
    <!--
    Description: Reboot Instances Form
    src: templates/forms/rebootInstances.html
    -->
    <div class="modal-header">
        <a class="close" id= "close" href="#" data-dismiss="modal">&times;</a>
        <h3>Confirm Reboot Instances</h3>
    </div>
    <form id="delete_image_form" action="#">
        <div class="modal-body">
            Are you sure you want to reboot the Instance ?
        </div>
        <div class="modal-footer">
            <a id="confirm_reboot" class="btn btn-blue pull-right" data-dismiss="modal">Reboot Instances</a>
            <a href="#syspanel/instances" id="cancelBtn" class="btn cancel" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>

<script id="updateImageFormTemplate" type="text/html">
<div id="update_image" class="modal hide " >
    <!--
    Description: Update Image Form
    src: templates/forms/updateImage.html
    -->
    <div class="modal-header">
        <a id="close" href="#" class="close" data-dismiss="modal">&times;</a>
        <h3>Edit Image</h3>
    </div>
    <form id="update_image_form" class="" action="#">
        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>
                    <div class="control-group form-field clearfix">
                        <label for="id_name">Name *</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input id="id_name" type="text" name="name" value="<%= model.get('name') %>" maxlength="25">
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_kernel">Kernel ID</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <p><br/></p>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_ramdisk">Ramdisk ID</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <p><br/></p>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_architecture">Architecture</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <p><br/></p>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_container_format">Container Format</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <p>ari</p>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_disk_format">Disk Format</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <p>ari</p>
                        </div>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_disk_format">Visibility</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <p><% if ((model.get("visibility") === "public") || model.get("is_public") === true){%>
                                Public
                                <%}
                            else {%>
                                Private
                            <%}%></p>
                        </div>
                    </div>
                    <!--<div class="control-group form-field clearfix">
                        <label for="id_public">Public</label>
                        <div class="input">
                          <input type="checkbox" name="public" id="id_public" style="width:initial" <% if ((model.get("visibility") === "public") || model.get("is_public") === true){%>checked<%}%>>
                        </div>
                      </div>-->
                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    From here you can modify different properties of an image.
                </p>
            </div>
        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input id="image_update" class="btn btn-blue pull-right" type="submit" value="Edit Image">
            <a id="cancelBtn" class="btn secondary cancel close">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="updateInstanceFormTemplate" type="text/html">
<div id="update_instance" class="modal hide ">
    <!--
    Description: Update Instance Form
    src: templates/forms/updateInstance.html
    -->
    <form id="update_instance_form" onSubmit="return false;">
        <div class="modal-header">
            <a id="close" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>Edit Instance</h3>
        </div>
        <div class="modal-body clearfix">
            <div class="left">
                <fieldset>
                    <div class="control-group form-field clearfix">
                        <label for="id_instance">Instance</label>
                        <p><%= model.id %></p>
                    </div>
                    <div class="control-group form-field clearfix">
                        <label for="id_name">Name *</label>
                        <span class="help-block"></span>
                        <div class="input">
                            <input type="text" required maxlength="25" name="name" value="<%= model.get('name') %>" id="id_name" placeholder="This field is required."/>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="right">
                <h3>Description</h3>
                <p>
                    Update the name of your instance
                </p>
            </div>
        </div>
        <div class="modal-footer">
            <p class="mandatoryMess">* Mandatory fields.</p>
            <input type="submit" class="btn btn-blue pull-right" value="Edit Instance"/>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
        </div>
    </form>
</div>
</script>
<script id="uploadObjectFormTemplate" type="text/html">
<div id="upload_object" class="modal hide in" style="top: 80px; display: block; ">
  <div class="modal-header">
    <a href="#" id="close" class="close" data-dismiss="modal">×</a>
    <h3>Upload Object To Container: <%= model.get('name')%></h3>
  </div>
  
    <div class="modal-body clearfix">

        <div class="left">
            <fieldset>

                <div class="control-group form-field clearfix">
                    <label for="id_name">Object Name *</label>

                    <span class="help-block" style="display: none; "></span>
                    <div class="input">
                        <input id="id_name" type="text" name="objName" maxlength="255">
                    </div>
                </div>

                <div class="control-group form-field clearfix">
                    <label for="id_object_file">File *</label>

                    <span class="help-block" style="display: none; "></span>
                    <div class="input">
                        <input type="file" name="object_file" id="id_object_file">
                    </div>
                </div>

            </fieldset>
        </div>
        <div class="right">
            <h3>Description</h3>
            <p>
                An object is the basic storage entity and any optional metadata that represents the files you store in the OpenStack Object Storage system. When you upload data to OpenStack Object Storage, the data is stored as-is (no compression or encryption) and consists of a location (container), the object's name, and any metadata consisting of key/value pairs.
            </p>
        </div>

    </div>
    <div class="modal-footer">
        <p class="mandatoryMess">* Mandatory fields.</p>
        <button id="submit" class="btn btn-primary pull-right">
            Upload Object
        </button>
        <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
    </div>
</div>

</script>
<script id="vncTemplate" type="text/html">
<div id="vnc-temp" class="modal hide ">
    <!--
    Description: VNC Form
    src: templates/forms/vnc.html
    -->
    <form id="form" onSubmit="return false;">
        <div class="modal-header">
            <a id="close" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>Virtual Machine Display</h3>
        </div>
        <div id="vnc-screen" class="modal-body clearfix">
        <%
        if (vncUrl === undefined) { %>
            <div class="vnc_spiner_container">
                <img id="vnc_spinner" src="images/spinner2.gif"></img>
            </div>
        <% } else { %>
            <p class="alert alert-info">
                If display is not responding to keyboard input: click the grey status bar below.
            </p>
            <iframe class="vnc_iframe" id="vnc-iframe" src="<%= vncUrl %>"></iframe>
        <% } %>
        </div>
        <div class="modal-footer">
            <button id="full-screen-button" class="btn btn-blue" value="Full-screen">
            <i class="icon-fullscreen" style="margin-right: 10px;"></i> Full-screen </button>
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Close</a>
        </div>
    </form>
</div>
</script>


<script id="messagesTemplate" type="text/html">
	<div class="messages">
<!--
    Description: Messages
    src: templates/messages.html
-->
		<div class="alert alert-block <%= (state == "Success") ? "alert-success" : (state == "Info") ? "alert-info" : "alert-error" %> fade in"><p><strong><%= state %>: </strong><%= title %> <% if (info) {%> <a id="info_<%=cid%>" href="#">info</a> <%}%></p></div>
	</div>
</script>

<script id="cloud_init_template" type="text/plain">#cloud-config
#
# This script automatically permorm some needed actions for the VM configuration
# You can modify it, but be careful not to change network configuration.<%if(num_interfaces !== 0){%>
write_files: 
- encoding: b64
  content: |<%
var data = "auto lo \n"; 
data += "iface lo inet loopback\n";
for (var h = 0; h < num_interfaces; h++) {
data += " auto eth"+h+" \n"; 
data += " iface eth" + h + "  inet dhcp\n";
}%>
    <%=btoa(data)%>
  path: /etc/network/interfaces

<% for (var i = 0; i<num_interfaces; i++) {
%>- content: |
    DEVICE="eth<%=i%>"
    NM_CONTROLLED="yes"
    ONBOOT="yes"
    BOOTPROTO="dhcp"
    TYPE="Ethernet"
  path: /etc/sysconfig/network-scripts/ifcfg-eth<%=i%>
  permissions: '460'
<% } %>
bootcmd: 
  - ifdown eth0
  - ifup eth0
<% for (var j=1; j<num_interfaces; j++) { 
%>- ifdown eth<%=j%>
  - ifup eth<%=j%><% 
}}%>

# Start DEM monitoring
runcmd:
     - curl -L -s -k https://xifisvn.esl.eng.it/wp3/software/DEM_Adapter/install.sh | bash

# FIWARE Support
fiware-support:
   sshkey: <%=ssh%>
   gpgkey: |
<%=gpg%>
</script>
<script id="confirmTemplate" type="text/html">
<div id="confirm" class="modal hide " style='<%= style %>'>
    <!--
    Description: Confirm
    src: templates/root/confirm.html
    -->
    <div class="modal-header">
        <a id="closeModalConfirm" class="close" data-dismiss="modal">&times;</a>
        <h3><%= title %></h3>
    </div>
    <div class="modal-body">
        <%= message %>
    </div>
    <div class="modal-footer">
        <a id="confirm_btn" class="btn btn-blue pull-right" data-dismiss="modal"><%= btn_message %></a>
<!--        <a id="cancelBtn" class="btn cancel" data-dismiss="modal">Cancel</a> -->
        <a id="cancelBtn" class="btn cancel" data-dismiss="modal">取消</a> 
    </div>
</div>
</script>

<script id="header" type="text/html">
<!--
Description: Header
src: templates/root/header.html
-->

    
<!--<div class="row">
    <div class="big-tittle">
        <h2 data-i18n="<%= get('title') %>"><%= get('title') %> <% if (has('subtitle')) { %><small><%= get('subtitle') %></small><% } %></h2>
    </div>
    <div class="logo-header">
        <a href="http://lab.fi-ware.org" class="brand">
            <img alt="FI-LAB" class="fiware-logo" src="/assets/Fi-lab-15197ad8322f8b1560d2296b2084db77.png">
        </a>
    </div>
    <div class="menu-header">
        <span data-i18n="Logged in as">Logged in as</span>: <%= get('username') %> <a href="#settings/" data-i18n="Settings">Settings</a>
        <a href="#auth/logout" data-i18n="Sign Out">Sign Out</a>
    </div>
</div>
-->
</script>
<script id="navTabTemplate" type="text/html">
<!--
Description: Navigation Bar
src: templates/root/navTab.html
-->
<section id="navbar">
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="navbar pull-none">
                <div class="navbar-inner color-mv">
                    <div class="container">
                        <a class="btn btn-navbar pull-left" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <div id="navtab">

                                    <ul class="nav nav-tabs">
                                        <% for (var index in models) {
                                        var model = models[index];
                                        if (model.get('name') == 'Admin' && (showAdmin == false || UTILS.Auth.isIDM()))
                                        continue;
                                        %>
                                        <li <% if (model.get('active')) { %> class="active" <% } %> >
                                            <a href="<%= model.get('url') %>" tabindex='1' data-i18n="<%= model.get('name') %>">joseantonio</a>
                                        </li>
                                        <% } %>

                                    </ul>
                                    <div id="sidebar"></div>

</script>
<script id="networkDetailTemplate" type="text/html">
<!--
Description: Network Detail
src: templates/root/neutron/networkDetail.html
-->
<ul id="myTab" class="nav nav-tabs">
    <li class="active">
    <a href="#network_overview" data-toggle="tab">Network</a>
    </li>
  <li class="">
    <a href="#subnets" data-toggle="tab">Subnets</a>
    </li>
    <li class="">
    <a href="#ports" data-toggle="tab">Ports</a>
    </li>
</ul>

<div id="" class="tab-content tab-content-adjustable">
    <div id="network_overview" class="tab-pane tab-adjustable active"></div>
    <div id="subnets" class="tab-pane tab-adjustable fade"></div>
    <div id="ports" class="tab-pane tab-adjustable fade"></div>
</div>

</script>
<script id="networkOverviewTemplate" type="text/html">
<!--
Description: Network Overview
src: templates/root/neutron/networkOverview.html
-->
<div id="network_overview" class="row-fluid entity_consult">
   <div class="entity_consult">
        <div class="entity_detail">
            <div id="network_details__overview1" class="active row-fluid">
                <div class="status span4">
                    <h4>Overview</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Name:</strong>&nbsp;<%= model.name ? model.name : "("+model.id+")" %>
                        </li>
                        <li>
                            <strong>ID:</strong>&nbsp;<%= model.id%>
                        </li>
                        <li>
                            <strong>Project ID:</strong>&nbsp;<%= model.tenant_id%>
                        </li>
                    </ul>
                </div>
                <div class="status span4">
                 <h4>Status</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Status:</strong>&nbsp;<%=model.status%>
                        </li>
                        <li>
                            <strong>Admin State:</strong>&nbsp;<%= model.admin_state_up ? "UP" : "DOWN"%>
                        </li>
                        <li>
                            <strong>Shared:</strong>&nbsp;<%= model.shared ? "Yes" : "No"%>
                        </li>
                        <li>
                            <strong>External Network:</strong>&nbsp;<%=model['router:external'] ? "Yes" : "No"%>
                        </li>
                    </ul>
                </div>
                <div class="specs span4">
                    <h4>Provider Network</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Network Type:</strong>&nbsp;<%= model['provider:network_type'] == undefined ? "-" : model['provider:network_type']%>
                        </li>
                        <li>
                            <strong>Physical Network:</strong>&nbsp;<%= model['provider:physical_network'] == undefined ? "-" : model['provider:physical_network']%>
                        </li>
                        <li>
                            <strong>Segmentation ID:</strong>&nbsp;<%= model['provider:segmentation_id']%>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
</script>
<script id="networkPortsTemplate" type="text/html">
<!--
Description: Network Ports
src: templates/root/neutron/networkPorts.html
-->
<div id="ports"></div>

</script>
<script id="neutronNetworksTemplate" type="text/html">
<!--
Description: Networks
src: templates/root/neutron/networks.html
-->
<div id="networks-table"></div>


</script>
<script id="networkSubnetsTemplate" type="text/html">
<!--
Description: Network Subnets
src: templates/root/neutron/networkSubnets.html
-->
<div id="subnets"></div>

</script>
<script id="portDetailTemplate" type="text/html">
<!--
Description: Port Detail
src: templates/root/neutron/portDetail.html
-->
<div id="port_overview" class="row-fluid entity_consult">
   <div class="entity_consult">
        <div class="entity_detail">
            <div id="subnet_details" class="active row-fluid">
                <div class="status span4">
                    <%var id = model.get('id');
                      var model = model.get('port');%>
                    <h4>Port Overview</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Name:</strong>&nbsp;<%= model.name == "" ? "None" : model.name%>
                        </li>
                        <li>
                            <strong>ID:</strong>&nbsp;<%= id%>
                        </li>
                        <li>
                            <strong>Network ID:</strong>&nbsp;<a id="network_id" style="cursor:pointer;"><%= model.network_id%></a>
                        </li>
                        <li>
                            <strong>Project ID:</strong>&nbsp;<%= model.tenant_id == "" ? "-" : model.tenant_id%>
                        </li>
                         <%var f_ips = model.fixed_ips;
                        var ip_addresses_subnet_id = [];
                        var allocation_pools_end = [];
                            for (index in f_ips) {
                                var ip_subnet = "(IP Address: "+f_ips[index].ip_address+", Subnet ID: "+f_ips[index].subnet_id+")";
                                ip_addresses_subnet_id.push(ip_subnet);
                            }
                        %>
                        <li>
                            <strong>Fixed IP:</strong>&nbsp;<%= model.ip_version%>
                            &nbsp;<%= ip_subnet == "" ? "None" : ip_subnet%>
                        </li>
                        <li>
                            <strong>Mac Address:</strong>&nbsp;<%= model.mac_address%>
                        </li>
                        <li>
                            <strong>Status:</strong>&nbsp;<%= model.status%>
                        </li>
                        <li>
                            <strong>Admin State:</strong>&nbsp;<%= model.admin_state_up ? "UP" : "DOWN"%>
                        </li>
                        <%
                            var attached_devices = [];
                            var attached_device = "(Device Owner: "+model.device_owner+", Device ID: "+model.device_id+")";
                            attached_devices.push(attached_device);
                        
                        %>
                        <li>
                            <strong>Attached Device:</strong>&nbsp;
                            </strong>&nbsp;<%= attached_devices%>
                        </li>
                    </ul>
                </div>               
            </div>
        </div>
    </div>
</div>
</script>

</script>
<script id="routerDetailTemplate" type="text/html">
<!--
Description: Router Detail
src: templates/root/neutron/routerDetail.html
-->
<ul id="myTab" class="nav nav-tabs">
    <li class="active">
    <a href="#router_overview" data-toggle="tab">Router</a>
    </li>
  <li class="">
    <a href="#interfaces" data-toggle="tab">Interfaces</a>
    </li>
</ul>

<div id="" class="tab-content tab-content-adjustable">
    <div id="router_overview" class="tab-pane tab-adjustable active"></div>
    <div id="interfaces" class="tab-pane tab-adjustable fade"></div>
</div>

</script>
<script id="routerInterfacesTemplate" type="text/html">
<!--
Description: Router Interfaces
src: templates/root/neutron/routerInterfaces.html
-->
<div id="interfaces"></div>

</script>
<script id="routerOverviewTemplate" type="text/html">
<!--
Description: Router Overview
src: templates/root/neutron/routerOverview.html
-->
<div id="router_overview" class="row-fluid entity_consult">
   <div class="entity_consult">
        <div class="entity_detail">
            <div id="router_details__overview1" class="active row-fluid">
                <div class="status span4">
                    <%var id = model.get('id');
                      var model = model.get('router');%>
                    <h4>Overview</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Name:</strong>&nbsp;<%= model.name %>
                        </li>
                        <li>
                            <strong>ID:</strong>&nbsp;<%= id%>
                        </li>
                        <li>
                            <strong>Status:</strong>&nbsp;<%= model.status%>
                        </li>
                        <%
                        if (model.external_gateway_info !== null) {
                            var external_gateway = model.external_gateway_info.network_id;
                            for (var index in networks.models) {
                                if (networks.models[index].get('id') === external_gateway) {
                                    var network_name = networks.models[index].get('name');
                                }
                            }
                        %>
                        <li>
                            <strong>External Gateway Information: </strong>
                        </li>
                         <li>
                            <strong>Connected External Network:</strong>&nbsp;<%= network_name%>
                        </li>
                        <%}%>
                    </ul>                
                </div>
            </div>
        </div>
    </div>
</div>
</script>
<script id="neutronRoutersTemplate" type="text/html">
<!--
Description: Routers
src: templates/root/neutron/routers.html
-->
<div id="routers-table"></div>


</script>
<script id="subnetDetailTemplate" type="text/html">
<!--
Description: Subnet Detail
src: templates/root/neutron/subnetDetail.html
-->
<div id="subnet_overview" class="row-fluid entity_consult">
   <div class="entity_consult">
        <div class="entity_detail">
            <div id="subnet_details" class="active row-fluid">
                <div class="status span4">
                    <%var id = model.get('id');
                    var model = model.get('subnet');%>
                    <h4>Subnet Overview</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Name:</strong>&nbsp;<%= model.name  === "" ? "None" : model.name%>
                        </li>
                        <li>
                            <strong>ID:</strong>&nbsp;<%= id%>
                        </li>
                        <li>
                            <strong>Network ID:</strong>&nbsp;<a style="cursor:pointer;" id="network_id"><%= model.network_id%></a>
                        </li>
                        <li>
                            <strong>IP version:</strong>&nbsp;<%= model.ip_version%>
                        </li>
                        <li>
                            <strong>CIDR:</strong>&nbsp;<%= model.cidr%>
                        </li>
                        <%var al_pools = model.allocation_pools;
                        var allocation_pools = [];
                            for (index in al_pools) {
                                var start_end = "Start: "+al_pools[index].start+" - End: " +al_pools[index].end;
                                allocation_pools.push(start_end);
                            }
                        %>
                        <li>
                            <strong>IP allocation pool: </strong>&nbsp;<%= allocation_pools%> 
                        </li>
                        <li>
                            <strong>DHCP Enable:</strong>&nbsp;<%= model.enable_dhcp%>
                        </li>
                        <li>
                            <strong>Gateway IP:</strong>&nbsp;<%= model.gateway_ip%>
                        </li>
                        <%var host_routes = model.host_routes;
                        var host_ro = [];
                            for (index in host_routes) {
                                host_ro.push(host_routes[index]);
                            }
                        %>
                        <li>
                            <strong>Additional Routes:</strong>&nbsp;<%= host_ro == "" ? "None" : host_ro%>
                        </li>
                        <%var dns_nameservers = model.dns_nameservers;
                        var dns_ns = [];
                            for (index in dns_nameservers) {
                                dns_ns.push(dns_nameservers[index]);
                            }
                        %>
                        <li>
                            <strong>DNS name server:</strong>&nbsp;<%= dns_ns == "" ? "None" : dns_ns%>
                        </li>
                    </ul>
                </div>               
            </div>
        </div>
    </div>
</div>
</script>

</script>
<script id="novaAccessAndSecurityTemplate" type="text/html">
<!--
Description: Access and Security
src: templates/root/nova/accessAndSecurity.html
-->
<ul id="myTab" class="nav nav-tabs">
	<li class="active">
    <a href="#floating_ips" data-toggle="tab">高防IP</a>
    </li>
  <li class="">
    <a href="#security_groups" data-toggle="tab">安全组</a>
    </li>
    <li class="">
    <a href="#keypairs" data-toggle="tab">密钥对</a>
    </li>
     <li class="">
    <a href="#gf_ips" data-toggle="tab">新高仿ip</a>
    </li>
     <li class="">
    <a href="#whitelist" data-toggle="tab">白名单</a>
    </li>


</ul>

<div id="" class="tab-content tab-content-adjustable">
	<div id="floating_ips" class="tab-pane tab-adjustable active"></div>
	<div id="security_groups" class="tab-pane tab-adjustable fade"></div>
	<div id="keypairs" class="tab-pane tab-adjustable fade"></div>
    <div id="gf_ips" class="tab-pane tab-adjustable fade"></div>
     <div id="whitelist" class="tab-pane tab-adjustable fade"></div>

</div>

</script>
<script id="blueprintInstanceTemplate" type="text/html">
<!--
Description: Blueprint Instance
src: templates/root/nova/blueprint/blueprintInstance.html
-->
<div id="blueprint-instance">
    <div id="blueprint-instance-table"></div>
</div>
</script>
<script id="blueprintInstancesTemplate" type="text/html">
<!--
Description: Blueprint Instances
src: templates/root/nova/blueprint/blueprintInstances.html
-->
<div id="blueprint-instances">
    <div id="blueprint-instances-table"></div>
</div>
</script>
<script id="blueprintInstanceTierInstancesTemplate" type="text/html">
<!--
Description: Instances
src: templates/root/nova/blueprint/instanceTierInstancesTemplate.html
-->
<div id="blueprint-instance-tier-instances-table"></div>
</script>
<script id="blueprintTemplateTemplate" type="text/html">
<!--
Description: Blueprint Template
src: templates/root/nova/blueprint/blueprintTemplate.html
-->
<div id="blueprint-template">
    <div id="blueprint-template-table"></div>
</div>
</script>
<script id="blueprintTemplateCatalogTemplate" type="text/html">
<!--
Description: Blueprint Template Catalog
src: templates/root/nova/blueprint/blueprintTemplateCatalog.html
-->
<div id="blueprint-templateCatalog">
    <div id="blueprint-templateCatalog-table"></div>
</div>
</script>
<script id="blueprintTemplatesTemplate" type="text/html">
<!--
Description: Blueprint Templates
src: templates/root/nova/blueprint/blueprintTemplates.html
-->
<div id="blueprint-templates">
    <div id="blueprint-templates-table"></div>
</div>
</script>
<script id="blueprintTemplatesCatalogTemplate" type="text/html">
<!--
Description: Blueprint Templates Catalog
src: templates/root/nova/blueprint/blueprintTemplatesCatalog.html
-->
<div id="blueprint-templatesCatalog">
    <div id="blueprint-templatesCatalog-table"></div>
</div>
</script>
<script id="matrixNetTemplate" type="text/html">
<!--
Description: Matrix Net
src: templates/root/nova/blueprint/matrixNet.html
-->
<%
var tiersDtos = _.clone(model.get('tierDtos_asArray'));
if (tiersDtos === undefined) {
    tiersDtos = [];
}
var numTiers = tiersDtos.length;
var totalWidth = 770;
var totalHeight = 450;
var maxWidth = totalWidth-numTiers*10-80;
var maxHeight = totalHeight-numTiers*10-20;
var width = 100/numTiers;
var height = 100/numTiers;
function compare(a,b) {
  if (a.name < b.name)
     return -1;
  if (a.name > b.name)
    return 1;
  return 0;
}

tiersDtos.sort(compare);

%>
<div id="matrix_net" class="modal hide " >
   <form id="form" onSubmit="return false;">
        <div class="modal-header">
            <a id="close" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>Network Topology in Blueprint <%= model.get("name") %></h3>
        </div>
        <div class="modal-body clearfix matrix_container" style="height: <%=totalHeight%>px;position: relative;width: <%=totalWidth%>px;">
            <div class="matrix_column_headers" style="margin-left: 80px; height: 20px;position: relative;width: <%=maxWidth%>px;float: left;">
            <%
                for (var indexRH in tiersDtos) {
                    var tierRH = tiersDtos[indexRH];
            %>
                <div class="matrix_column_header" style="height: 20px;float: left;width: <%=width%>%;"><%=tierRH.name%></div>
            <%
                }
            %>
            </div>

            <div class="matrix_row_headers" style="height: <%=maxHeight%>px;position: relative;width: 80px;float: left;">
            <%
                for (var indexRC in tiersDtos) {
                    var tierRC = tiersDtos[indexRC];
            %>
                <div class="matrix_row_header" style="height: <%=height%>%;float: left;width: 80px;"><p><%=tierRC.name%></p></div>
            <%
                }
            %>
            </div>

            <div class="matrix_container" style="height: <%=maxHeight%>px;position: relative;width: <%=maxWidth%>px;float: left;">
            <%
                for (var index in tiersDtos) {
                    var tierR = tiersDtos[index];
                    for (var index2 in tiersDtos) {
                        var tierC = tiersDtos[index2];
            %>
                        <div class="matrix_element_border" style="width: <%=width%>%; height: <%=height%>%; float: left;"><div class="matrix_element">
                        <%
                        for (var networkIdx in tierR.networkDto_asArray) {
                            var netR = tierR.networkDto_asArray[networkIdx]
                            for (var networkIdx2 in tierC.networkDto_asArray) {
                                var netC = tierC.networkDto_asArray[networkIdx2];
                                if (netR.networkName === netC.networkName) {
                        %>
                                    <p><%=netR.networkName%></p>
                        <%
                                }
                            }
                        }
                        %>
                        </div></div>
            <%
                    }
                }
            %>


            </div>
        </div>
        <div class="modal-footer">
            <a id="cancelBtn" class="close btn seconday cancel close" data-dismiss="modal">Ok</a>
        </div>
    </form>


</div>

</script>
<script id="softwareTemplate" type="text/html">
<!--
Description: Software
src: templates/root/nova/blueprint/software.html
-->
<div id="software-table"></div>
</script>
<script id="editGaoFangIPInfoTemplate" type="text/html">

            <div id="editGaoFangipInfo" class="modal hide">
                 <form id="form_gaofangipInfo" onSubmit="return false;">
                <div class="modal-header">
                    <a id="closeModal" href="#" class="close" data-dismiss="modal">&times;</a>
                    <h3>编辑高仿ip信息</h3>
                </div>
                <div class="modal-body clearfix">
                    <table class="table table-without-margins without-borders table-striped table-scrolled ov">
                        <tr><td>ip名称:</td><td><input name="id" value='<%= model.get("id") %>' /></td></tr>
                        <tr><td>ip</td><td><input name="boundIP" disabled=disabled value='<%= model.get("boundIP") %>' /></td></tr>
                        <tr><td>所在地区</td><td><input name="region" disabled=disabled value='<%= model.get("region") %>' /></td></tr>
                        <tr><td>DDos保底峰值</td><td><input name="id" disabled=disabled value='<%= model.get("id") %>' /></td></tr>
                        <tr><td>CC防护峰值</td><td><input name="id" disabled=disabled value='<%= model.get("id") %>' /></td></tr>
                        <tr><td>当前状态</td><td><input name="status" disabled=disabled value='<%= model.get("status") %>' /></td></tr>
                        <tr><td>到期时间</td><td><input name="expire" disabled=disabled value='<%= model.get("expire") %>' /></td></tr>
                    </table>
                </div>
                <div class="modal-body clearfix" style="border-top: 1px solid #f5f5f5">
                    <table class="table table-without-margins without-borders table-striped table-scrolled ov">
                        <tr><td>当前状态:</td><td>
                            <select id="cc_protect" name="cc_protect" style="width: 50%">
                                <% if (model.get("cc_protect")==1) { %>
                                     <option selected="selected" value="1">开启</option>
                                <% } else { %>
                                     <option value="1">开启</option>
                                <% }  %>
                                 <% if (model.get("cc_protect")==0) { %>
                                     <option selected="selected" value="0">未开启</option>
                                <% } else { %>
                                    <option value="0">未开启</option>
                                <% }  %>
                            </select>
                            <button id="cc_protect_button" class="btn btn-blue pull-right">确定</button>
                        </td></tr>
                        <tr><td></td><td>想要提升防御可免费开启弹性防护</td></tr>
                    </table>
                </div>
                <div class="modal-body clearfix" style="border-top: 1px solid #f5f5f5">
                    <table class="table table-without-margins without-borders table-striped table-scrolled ov">
                        <tr><td>http请求阀值:</td><td>
                            <select id="threshold" name="threshold" style="width: 50%">
                                <% if (model.get("threshold")==240) { %>
                                    <option  selected="selected" value="240">240Qag</option>
                                <% } else { %>
                                    <option value="240">240Qag</option>
                                <% }  %>
                                <% if (model.get("threshold")==100) { %>
                                    <option selected="selected" value="100">100Qag</option>
                                <% } else { %>
                                   <option value="100">100Qag</option>
                                <% }  %>
                                <% if (model.get("threshold")==200) { %>
                                    <option selected="selected" value="200">200Qag</option>
                                <% } else { %>
                                   <option value="200">200Qag</option>
                                <% }  %>
                                <% if (model.get("threshold")==300) { %>
                                   <option selected="selected" value="300">300Qag</option>
                                <% } else { %>
                                    <option value="300">300Qag</option>
                                <% }  %>
                            </select>
                            <button id="threshold_button" class="btn btn-blue pull-right">确定</button>
                        </td></tr>
                        <tr><td></td><td>当http请求数超过设定值时,触发CC防护</td></tr>
                    </table>
                </div>
                <div class="modal-footer">
                    <input type="submit" class="btn btn-blue pull-right" value="修改"  >
                    <a id="cancelBtn" class="btn secondary cancel close" data-dismiss="modal">Cancel</a>
                </div>
               </form>
            </div>

</script>

<script id="editGFIPRuleTemplate" type="text/html">
    <div id="edit_rule" class="modal hide">
        <div class="modal-header">
            <a id="closeModal" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>编辑高仿ip信息</h3>
        </div>
        <div class="modal-body clearfix">
            <div id="iprule-table"></div>
        </div>
        <form id="gfipRule_form" onsubmit="return false" style="border-top: 1px solid #f5f5f5">
            <div class="modal-body clearfix">
                <h5>增加规则</h5>
                <table class="table table-without-margins without-borders table-striped table-scrolled ov" >
                    <tr>
                        <td >协议</td>
                        <td >转发端口</td>
                        <td >源站端口</td>
                        <td >源IPs</td>
                    </tr>
                    <tr>
                        <td>
                          * <select name="protocol" style="width: 80%" required >
                                <option value="udp">udp</option>
                                <option value="tcp">tcp</option>
                            </select>
                        </td>
                        <td>
                            *<input type="number"  name="virtualPort" required style="width: 80%" placeholder="必填" />
                        </td>
                        <td>
                           * <input type="number"  name="sourcePort" required style="width: 80%" placeholder="必填" />
                        </td>
                        <td>
                            <textarea  type="number" rows="3" cols="20" name="ipList" style="width: 80%" ></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>

                        </td>
                        <td>

                        </td>
                        <td>

                        </td>
                        <td>
                            请用回车分隔多个IP，<br>
                            最多可输入本IP转发目<br>
                            标区域内20个公网IP
                        </td>
                    </tr>


                </table>
            </div>
            <div class="modal-footer">
                <span class="pull-left">* 必填</span>
                <input type="submit" id="gfipRule_add" class="btn btn-blue pull-right" value="增加"  >
                <a id="cancelBtn" class="btn secondary cancel close" data-dismiss="modal">返回</a>
            </div>
        </form>
    </div>
</script>

<script id="editWhiteListTemplate" type="text/html">
    <div id="edit_whitelist" class="modal hide">
        <div class="modal-header">
            <a id="closeModal" href="#" class="close" data-dismiss="modal">&times;</a>
            <h3>编辑高仿ip白名单</h3>
        </div>
        <div class="modal-body clearfix">
            <div id="whitelist-table"></div>
        </div>
        <form id="whitelist_form" onsubmit="return false" style="border-top: 1px solid #f5f5f5">
            <div class="modal-body clearfix">
                <h5>增加规则</h5>
                <table class="table table-without-margins without-borders table-striped table-scrolled ov" >
                    <tr>
                        <td >ID/名称</td>
                        <td >URL</td>
                        <!--
                        <td >操作</td>
                        -->
                    </tr>
                    <tr>
                        <!--
                        <td>
                          * <select name="protocol" style="width: 80%" required >
                                <option value="udp">udp</option>
                                <option value="tcp">tcp</option>
                            </select>
                        </td>
                        -->
                        <td>
                            *<input type="text"  name="ip" required style="width: 80%" placeholder="必填" />
                        </td>
                        <td>
                           * <input type="text"  name="url" required style="width: 80%" placeholder="必填" />
                        </td>
                        <!--
                        <td>
                            <textarea  type="number" rows="3" cols="20" name="ipList" style="width: 80%" ></textarea>
                        </td>
                        -->
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <span class="pull-left">* 必填</span>
                <input type="submit" id="whiteList_add" class="btn btn-blue pull-right" value="增加"  >
                <a id="cancelBtn" class="btn secondary cancel close" data-dismiss="modal">返回</a>
            </div>
        </form>
    </div>
</script>
<script id="novaFloatingIPsTemplate" type="text/html">
<!--
Description: Floating IPs
src: templates/root/nova/floatingIPs.html
-->
<div id="floatingIPs-table"></div>

</script>
<script id="novaGaoFangIPTemplate" type="text/html">
<!--
Description: gaofangip
src: templates/root/nova/gaoFangIP.html
-->
<ul id="myTab" class="nav nav-tabs">
	<li class="active">
    <a href="#floating_ips" data-toggle="tab">Floating IPs</a>
    </li>
  <li class="">
    <a href="#gaoFangIPs" data-toggle="tab">GaoFangIPs</a>
    </li>
    <li class="">
    <a href="#keypairs" data-toggle="tab">Keypairs</a>
    </li>
</ul>

<div id="" class="tab-content tab-content-adjustable">
	<div id="floating_ips" class="tab-pane tab-adjustable active"></div>
	<div id="gaoFangIPs" class="tab-pane tab-adjustable fade"></div>
	<div id="keypairs" class="tab-pane tab-adjustable fade"></div>
</div>

</script>

<script id="novaGaoFangIPsTemplate" type="text/html">
<!--
Description: gaofangips
src: templates/root/nova/gaoFangIPs.html
-->
<div id="gaoFangIPs-table"></div>
</script>

<script id="gfipInfoTemplate" type="text/html">
    <div id="gfip_info" class="modal hide">
            <div class="modal-header">
                <a id="closeModal" href="#" class="close fade" data-dismiss="modal">&times;</a>
                <h3>高仿IP详情</h3>
            </div>
            <div class="modal-body clearfix">
                <table class="table table-without-margins without-borders table-striped table-scrolled ov" >
                    <tr><td>ip名称:</td><td><%= model.get("id") %></td></tr>
                    <tr><td>ip:</td><td><%= model.get("boundIP") %></td></tr>
                    <tr><td>所在地区:</td><td><%= model.get("GFRegionName") %></td></tr>
                    <tr><td>DDos保底峰值:</td><td><%= model.get("id") %></td></tr>
                    <tr><td>CC防护峰值:</td><td><%= model.get("id") %></td></tr>
                    <tr><td>当前状态:</td><td><%= model.get("GFStatusName") %></td></tr>
                    <tr><td>到期时间:</td><td><%= model.get("expire") %></td></tr>
                </table>
            </div>
            <div class="modal-body clearfix" style="border-top: 1px solid #f5f5f5">
                <table class="table table-without-margins without-borders table-striped table-scrolled ov">
                    <tr><td>当前状态:</td><td>
                        开启
                    </td></tr>
                    <tr><td></td><td>想要提升防御可免费开启弹性防护</td></tr>
                </table>
            </div>
            <div class="modal-body clearfix" style="border-top: 1px solid #f5f5f5">
                <table class="table table-without-margins without-borders table-striped table-scrolled ov">
                    <tr><td>CC防护:</td><td>
                        开启
                    </td></tr>
                    <tr><td>http请求阀值:</td><td>
                        240 QPSS
                    </td></tr>
                    <tr><td></td><td>当http请求数超过设定值时,触发CC防护</td></tr>
                </table>
            </div>
            <div class="modal-footer">
                <a id="cancelBtn" class="btn secondary cancel close" data-dismiss="modal">Cancel</a>
            </div>
    </div>
</script>
<script id="gfiplistTemplate" type="text/html">
    <ul id="myTab" class="nav nav-tabs">
        <li class="active">
            <a href="#gf_ips" data-toggle="tab">高防IP</a>
        </li>
    </ul>

    <div id="" class="tab-content tab-content-adjustable">
        <div id="gf_ips" class="tab-pane tab-adjustable active"></div>
    </div>
</script>
<script id="novaGFIPTableTemplate" type="text/html">
    <!--
    Description: Floating IPs
    src: templates/root/nova/floatingIPs.html
    -->
    <div id="gfips-table">

    </div>

</script>
<script id="consultImageDetailFormTemplate" type="text/html">
<div id="consult_image" class="help_page">
    <!--
    Description: Consult Image Detail
    src: templates/root/nova/imageDetail.html
    -->

    <%
    var bytes = model.get("size");
    var kbytes, mbytes, gbytes, size;
    if (bytes >= 1024) {
        kbytes = Math.round(bytes / 1024 * 10) / 10;
        size = kbytes + " KB";
        if (kbytes >= 1024) {
            mbytes = Math.round(kbytes / 1024 * 10) / 10;
            size = mbytes + " MB";
            if (mbytes >= 1024) {
                gbytes = Math.round(mbytes / 1024 * 10) / 10;
                size = gbytes + " GB";
            } else {
                size = Math.round(mbytes * 10) / 10 + " MB";
            }
        } else {
            size = Math.round(kbytes * 10) / 10 + " KB";
        }
    } else {
        size = Math.round(bytes * 10) / 10 + " bytes";
    }

    %>
    <div class="entity_consult">
        <div class="entity_detail">
            <div id="image_details__overview1" class="active row-fluid">
                <div class="status span4">
                    <h4>Info</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Name:</strong>&nbsp;<%= model.get('name')%>
                        </li>
                        <li>
                            <strong>ID:</strong>&nbsp;<%= model.get('id')%>
                        </li>
                        <%if(model.get('nid')) {%>
                        <li>
                            <strong>GE ID:</strong>&nbsp;<%= model.get('nid')%>
                        </li>
                        <%}%>
                    </ul>
                </div>
                <div class="status span4">
                    <h4>Status</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Status:</strong>&nbsp;<%=model.get('status')%>
                        </li>
                        <li>
                            <strong>Public:</strong>&nbsp;<%= model.get('is_public')%>
                        </li>
                        <li>
                            <strong>Checksum:</strong>&nbsp;<%= model.get('checksum')%>
                        </li>
                        <li>
                            <strong>Created:</strong>&nbsp;<%=model.get('created_at')%>
                        </li>
                        <li>
                            <strong>Updated:</strong>&nbsp;<%= model.get('updated_at')%>
                        </li>
                    </ul>
                </div>
                <div class="specs span4">
                    <h4>Specs</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Size:</strong>&nbsp;<%= size%>
                        </li>
                        <li>
                            <strong>Container Format:</strong>&nbsp;<%= model.get('container_format')%>
                        </li>
                        <li>
                            <strong>Disk Format:</strong>&nbsp;<%= model.get('disk_format')%>
                        </li>
                    </ul>
                </div>
            </div>
            <div id="image_details__overview2" class="active row-fluid">
                <div class="properties span4">
                    <h4>Custom Properties</h4>
                    <hr class="header_rule">
                    <ul>

                        <%
                        if (model.get('sdc_aware')) {
                        %>
                        <li>
                            <strong>SDC Available:</strong>&nbsp; Instances launched with this image allow Software Management using SDC
                        </li>
                        <%
                        };
                        %>
                    </ul>
                </div>

                <div class="properties span4">
                    <button id="launch_img" class="pull-right btn btn-small btn-white btn-create" style="margin-top:40px;" data-i18n="Launch Image">Launch Image</button>
                </div>
            </div>
        </div>
    </div>
</div>
</script>
<script id="instanceDetailTemplate" type="text/html">
<!--
Description: Instance Detail
src: templates/root/nova/instanceDetail.html
-->
<div id="consult_instance" class="row-fluid entity_consult">
   <% if (vdc !== undefined) { %>
    <ul class="breadcrumb">
        <li>
            <a href="#nova/vdcs/"><strong>VDCs</strong></a><span class="divider">/</span>
        </li>
        <li>
            <a href="#nova/vdcs/<%= vdc %>"><%= vdc %></a><span class="divider">/</span>
        </li>
        <li>
            <a href="#nova/vdcs/<%= vdc %>/<%= service %>"><%= service %></a><span class="divider">/</span>
        </li>
        <li>
            <%= model.get("name") %>
        </li>
    </ul>
    <% } %>
        <ul id="instance_details" class="nav nav-tabs">
            <li id="overview" class="<%= (subview == 'overview') ? 'active':'' %>">
                <a id="overviewBtn" data-i18n="Overview">Overview</a>
            </li>
            <li id="log" class="<%= (subview == 'logs') ? 'active':'' %>">
                <a id="instance_logs">Log</a>
            </li>
            <li id="vnc" class="<%= (subview == 'vnc') ? 'active':'' %>">
                <a id="instance_vnc">Connection</a>
            </li>
            <li id="monitoring" class="<%= (subview == 'monitoring') ? 'active':'' %>">
                <a id="instance_monitoring">Monitoring</a>
            </li>
        </ul>
        <div class="tab-content  entity_detail_pro">
            <div id="instance_details__overview" class="tab-pane <%= (subview == 'overview') ? 'active':'' %>">
            </div>
            <div id="instance_details__log" class="tab-pane <%= (subview == 'logs') ? 'active':'' %>">
            </div>
            <div id="instance_details__vnc" class="tab-pane <%= (subview == 'vnc') ? 'active':'' %>">
            </div>
            <div id="instance_details__monit" style="position:relative" class="tab-pane <%= (subview == 'monitoring') ? 'active':'' %>">
            </div>
        </div>
</div>
</script>
<script id="editProductAttributesTemplate" type="text/html">
<div id="edit_product_attributes" class="modal in">
    <!--
    Description: View Product Attributes
    src: templates/root/nova/instanceDetail/editProductAttributes.html
    -->
    <div class="modal-header">
        <a id="closeModal" href="#" class="close" data-dismiss="modal">&times;</a>
        <h3>Product "<%=model.get("productRelease").product.name%>" Attributes</h3>
    </div>
    <div id="messHeader" class="modal-body clearfix">

        <div class='table_header'><h3 class='table_title'>Edit Attributes</h3></div>
        <table id="product_attributes" class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th style="width: 30%;">Attribute</th>
                    <th style="width: 30%;">Value</th>
                    <th style="width: 40%;">Description</th>
                </tr>
            </thead>
            <tbody>
                <%
                var attr;
                var i = 0;
                if (productAttributes !== undefined) {
                    for (var i in productAttributes) {
                        attr = productAttributes[i];
                %>
                <tr id="sec_groups__row__"
                class="ajax-update status_down">
                    <td><%=attr.key%></td>
                    <td><input type="text" name="attr_<%=i%>" value="<%=attr.value%>"></td>
                    <td><%=attr.description%></td>
                 </tr>
               <% } } else { 
                i = -1;
                %>
                <tr class="odd empty">
                    <td colspan="6">No items to display.</td>
                </tr>
                <% } %>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="6"><span><%=UTILS.i18n.pluralise("Displaying %s item", "Displaying %s items", (parseInt(i)+1))%></span></td>
                    </td>
            </tfoot>
        </table>
    </div>
    <div class="modal-footer">
        <a id="accept" class="btn btn-blue pull-right" data-dismiss="modal">Accept</a>
        <a id="cancel" class="close btn seconday cancel close" data-dismiss="modal">Cancel</a>
    </div>
</div>
</script>
<script id="instanceConnectionTemplate" type="text/html">
<!--
Description: Instance Detail VNC
src: templates/root/nova/instanceDetail/instanceConnection.html
-->
<div class="entity_consult">
    <div class="entity_detail">
        <div id="conn1" class="active row-fluid">
            <div class="status span12">
                <h4>Connect using a SSH client</h4>
                <hr class="header_rule">
                <%if (public_ip) {%>
                <div class="status span5">
                    <h5>Ubuntu/Mac terminal</h5>
                    <ol>
    					<li>Open the Terminal</li>
    					<li>Locate the keypair asocciate to this Instance when launching it. <p><i>my_keypair.pem</i></p></li>
    					<li>Modify the keypair permissions in order to make it not publicly viewable.
    						<p><i>chmod 400 my_keypair.pem</i></p>
                        </li>
    					<li>Connect to the Instance using its public IP and the appropiate username depending on the VM SO (ubuntu, centos, ...).
    						<p><i>ssh -i my_keypair.pem user_name@<%=public_ip%></i></p>
    					</li>
    				</ol>
                </div>
                <div class="status span5">
                    <h5>Windows PuTTY Client</h5>
                    <ol>
                        <li>Install PuTTY and PuTTYgen from <a href="http://www.putty.org/">Putty website</a>.</li>
                        <li>Locate the keypair asocciate to this Instance when launching it. 
                            <p><i>my_keypair.pem</i></p></li>
                        <li>Convert your Keypair (.pem) to PPK with PuTTYgen.</li>
                        <li>Use PuTTY to connect to the Instance using its public IP (<%=public_ip%>)</i> and the new PPK Keypair.
                        </li>
                    </ol>
                </div>
				<%} else {%>
				<p>You need to associate a Floating IP to this Instance in order to connect via SSH.<p>
				<ol>
					<li>Go to Security -> Floatings IPs</li>
					<li>If you have not any Floating IP available, allocate a new one to the project.</li>
					<li>Associate a Floating IP to this Instance.</li>
				</ol>
				<%}%>
            </div>

        </div>

        <div id="conn2" style="margin-top: 25px;" class="active row-fluid">
            <div class="status span5">
                <h4>Connect to VM display</h4>
                <hr class="header_rule">
                <p>Connect directly to the Virtual Machine display</p>

                <button id="vnc-button" style="margin-top: 10px; width: 120px; height: 25px;" class="btn btn-white"> 
                <%if (vncUrl) {%>
                    View display
                <%} else {%>
                    Loading... 
                <%}%>
                </button>
            </div>
        </div>

    </div>
</div>

</script>

<script id="instanceLogTemplate" type="text/html">
<!--
Description: Instance Detail Log
src: templates/root/nova/instanceDetail/log.html
-->
<div class="clearfix">
    <h3 class="pull-left">Instance Console Log</h3>


    <form id='set_log_form' class="pull-right" onSubmit="return false;">

    	<label for="set-log-input">Set the number of lines to display</label>
    	<div id="log-input-fields">
			<input id ='log-input' name='set-log' type ='number' placeholder='max. 1000'/>
			<input id ='log-button' class="btn btn-small btn-blue btn-main>" data-i18n="Done" type='submit' value = 'Refresh'/>
    	</div>
	</form>

</div>
<pre class="logs"><%= logs %></pre>

</script>
<script id="instanceMonitoringTemplate" type="text/html">
<!--
Description: Instance monitoring
src: templates/root/nova/instanceDetail/monitoring.html
-->
<div id="consult_monit" class="help_page">

	<div id="panel_buttons">
		<button disabled id="refresh_button" class="btn btn-small btn-blue btn-main hide>" data-i18n="Refresh">Refresh</button>
		<button disabled id="switch_button" class="btn btn-small btn-blue btn-main hide>" data-i18n="No hist data">No hist data</button>
	</div>

	<div class="status span12" id="error_monit_info">
		<h4></h4>
	    <p>No monitoring data available for this instance</p>
	</div>
	

    <div id="speedometer_view" class="entity_consult">
		<div id="cpu" class="speedometer">
		</div>
		<div id="disk" class="speedometer">
		</div>
		<div id="mem" class="speedometer">
		</div>
	</div>

	<div id="chart_view" class="entity_consult hide">
		<div id="graph_buttons">
			<button id="day" class="graph_button btn btn-small btn-blue btn-main active" data-i18n="Last day">Last day</button>
			<button id="week" class="graph_button btn btn-small btn-blue btn-main" data-i18n="Last week">Last week</button>
			<button id="month" class="graph_button btn btn-small btn-blue btn-main" data-i18n="Last month">Last month</button>
		</div>
		<div id="cpu" class="chart row-fluid">
			<div class="chart_name">
			CPU
			</div>
			<div class="chart_graph">
				<canvas id="cpu_chart" width="800" height="150"></canvas>
			</div>
			<div class="chart_unit">
			%
			</div>
			
		</div>
		<div id="cpu" class="chart row-fluid" >
			<div class="chart_name">
			Disk
			</div>
			<div class="chart_graph">
				<canvas id="disk_chart" width="800" height="150"></canvas>
			</div>
			<div class="chart_unit">
			GB
			</div>
			
		</div>
		<div id="cpu" class="chart row-fluid">
			<div class="chart_name">
			RAM
			</div>
			<div class="chart_graph">
				<canvas id="mem_chart" width="800" height="150"></canvas>
			</div>
			<div class="chart_unit">
			MB
			</div>
			
		</div>
		
		
	</div>
</div>

</script>

<script id="instanceOverviewTemplate" type="text/html">
<!--
Description: Instance Detail Overview
src: templates/root/nova/instanceDetail/overview.html
-->

<div id="consult_volume" class="help_page">

    <div class="entity_consult">
        <div class="entity_detail">
            <div id="volume_details1" class="active row-fluid">
                <div class="status span4">
                    <h4>Info</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Name: </strong>&nbsp;<%= model.get("name") %>
                        </li>
                        <li>
                            <strong>ID: </strong>&nbsp;<%= model.get("id") %>
                        </li>
                        <li>
                            <strong>Status: </strong>&nbsp;<%= model.get("status") %>
                        </li>
                    </ul>
                </div>
                <div class="status span4">
                    <h4>Specs</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>RAM: </strong>&nbsp;<%=flavor.get("ram")%>MB
                        </li>
                        <li>
                            <strong>VCPUs: </strong>&nbsp;<%=flavor.get("vcpus")%> VCPU
                        </li>
                        <li>
                            <strong>Disk: </strong>&nbsp;<%=flavor.get("disk")%>GB
                        </li>
                    </ul>
                </div>
                <div class="specs span4">
                    <h4>IP Addresses</h4>
                    <hr class="header_rule">
                    <ul>
                        <%
                        if (JSTACK.Keystone.getendpoint(UTILS.Auth.getCurrentRegion(), "network") !== undefined) {
                            if (model.get("addresses") != null) {
                                addresses = model.get("addresses");
                                for (var i in addresses) {
                                    var ips = addresses[i];
                                    for (var j in ips) {
                                        var ip = ips[j].addr;
                                         %>
                        <li>
                            <em><%=i%></em>: <%=ip%>
                        </li>
                                    <%
                                    }
                                }
                            }
                        } else {
                            if ((model.get("addresses") != null) && (model.get("addresses")["public"] !== null || model.get("addresses")["private"] !== null)) {
                                addresses = model.get("addresses")["public"];
                                for (var addr_idx in addresses) {
                                    %>
                        <li>
                            <em>Public</em>: <%=addresses[addr_idx].addr%>
                        </li>
                                    <%
                                }
                                addresses = model.get("addresses")["private"];
                                for (var addr_idx2 in addresses) {
                                    %>
                        <li>
                            <em>Private</em>: <%=addresses[addr_idx2].addr%>
                        </li>
                                    <%
                                }
                            }
                        }%>
                    </ul>
                </div>

            </div>

            <div id="volume_details2" style="margin-top: 25px;" class="active row-fluid">
                <div class="status span4">
                    <h4>Security Groups</h4>
                    <hr class="header_rule">
                    <ul>
                        <%
                         for (var idx in security_groups) {
                        %>
                        <li style="width: 300px; overflow: hidden; text-overflow: ellipsis" class="tip" data-tooltip="<%=security_groups[idx].name%>">
                            <%=security_groups[idx].name%>
                        </li>

                        <%}%>
                    </ul>
                </div>
                <div class="status span4">
                    <h4>Meta</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Key name: </strong>&nbsp;<%=model.get("key_name")!==undefined?model.get("key_name"):"<em>None</em>"%>
                        </li>
                        <li>
                            <strong>Image Name: </strong>&nbsp;<a href="#nova/images/<%=image.get("id")%>"><%=image.get("name")%></a>
                        </li>
                        <% 
                        var metadata = model.get("metadata");
                        if (model.has("metadata")) {
                            for (var key in metadata) {
                                if (metadata.hasOwnProperty(key)) {
                        %>
                        <li>
                            <strong><%=key%>: </strong>&nbsp;<%= metadata[key]%>
                        </li>
                        <%
                                }
                            }
                        }
                        %>
                    </ul>
                </div>
                <div class="specs span4">
                    <h4>Volumes</h4>
                    <hr class="header_rule">
                    <ul>
                        <%
                         for (var idx in volumes) {
                        %>
                        <li style="width: 300px; overflow: hidden; text-overflow: ellipsis">
                            <%=volumes[idx].device%>
                        </li>

                        <%}%>
                    </ul>
                </div>

            </div>

            <div id="volume_details3" style="margin-top: 25px;" class="active row-fluid">
                <div class="status span4">
                    <div>
                        <h4>Installed Software</h4>
                <%
                if (image.get('sdc_aware')) {
                %>

                        <button id="editSoftware" class="pull-right btn btn-small btn-white btn-create" style="margin-top: -40px;" data-i18n="Edit">Edit</button>
                    </div>
                    <hr class="header_rule">
                    <div id="software-subview-inst" class="software-tier" style="width:100%;">
                        <div style="float:left;width:65%">
                           <ul>
                            <%
                            installedSoftware.forEach(function(product) {
                            %>
                                <li><%=product.name%> <%=product.version%></li>
                            <%
                            });
                            %>
                           </ul>
                        </div>
                        <div style="float:left;width:35%">
                           <ul>
                            <%
                            installedSoftware.forEach(function(product) {
                            %>
                                <li><%=product.status%></li>
                            <%
                            });
                            %>
                           </ul>
                        </div>
                   </div>
                       
                <%
                } else {
                %>
                    </div>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <em>Image </em><%=image.get("name")%><em> does not allow Software Management with SDC.</em>
                        </li>
                    </ul>

                <%
                };
                %>
                </div>
            </div>
        </div>
    </div>
</div>

</script>

<script id="viewProductAttributesTemplate" type="text/html">
<div id="view_product_attributes" class="modal in">
    <!--
    Description: View Product Attributes
    src: templates/root/nova/instanceDetail/viewProductAttributes.html
    -->
    <div class="modal-header">
        <a id="closeModal" href="#" class="close" data-dismiss="modal">&times;</a>
        <h3>Product "<%=product%>" Attributes</h3>
    </div>
    <div id="messHeader" class="modal-body clearfix">

    	<table id="product_attributes" class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th style="width: 30%;">Attribute</th>
                    <th style="width: 30%;">Value</th>
                    <th style="width: 40%;">Description</th>
                </tr>
            </thead>
            <tbody>
            	<%
                var attr;
            	var i = 0;
            	if (productAttributes !== undefined) {
	            	for (var i in productAttributes) {
		           		attr = productAttributes[i];
            	%>
                <tr id="sec_groups__row__"
                class="ajax-update status_down">
                    <td><%=attr.key%></td>
                    <td><%=attr.value%></td>
                    <td><%=attr.description%></td>
                 </tr>
               <% } } else { 
                i = -1;
                %>
               	<tr class="odd empty">
                    <td colspan="6">No items to display.</td>
                </tr>
                <% } %>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="6"><span><%=UTILS.i18n.pluralise("Displaying %s item", "Displaying %s items", (parseInt(i)+1))%></span></td>
                    </td>
            </tfoot>
        </table>
    </div>
    <div class="modal-footer">
        <a id="cancel" class="btn btn-blue pull-right" data-dismiss="modal">Accept</a>
    </div>
</div>
</script>
<script id="novaInstancesTemplate" type="text/html">
<!--
Description: Instances
src: templates/root/nova/instances.html
-->
<div id="instances-table"></div>
</script>
<script id="novaKeypairsTemplate" type="text/html">
<!--
Description: Access And Security
src: templates/root/nova/keypairs.html
-->
<div id="keypairs">
    <div id="keypairs-table"></div>
</div>
</script>
<script id="novaSecurityGroupsTemplate" type="text/html">
<!--
Description: Access And Security
src: templates/root/nova/securityGroups.html
-->
<div id="securityGroups-table"></div>
</script>
<script id="novaSnapshotsTemplate" type="text/html">
<!--
Description: Snapshots
src: templates/root/nova/snapshots.html
-->
<ul id="myTab" class="nav nav-tabs">
  <li class="active">
    <a href="#instance_snapshots" data-toggle="tab">Instance Snapshots</a>
    </li>
  <li class="">
    <a href="#volume_snapshots" data-toggle="tab">Volume Snapshots</a>
    </li>
  <!--Add when cinder v2 is available (for volume backups)-->
    <li class="">
    <a href="#volume_backups" data-toggle="tab">Volume Backups</a>
    </li>
</ul>

<div id="" class="tab-content tab-content-adjustable">
    <div id="instance_snapshots" class="tab-pane tab-adjustable active"></div>
    <div id="volume_snapshots" class="tab-pane tab-adjustable fade"></div>
    <!--Add when cinder v2 is available (for volume backups)-->
    <div id="volume_backups" class="tab-pane tab-adjustable fade"></div>
</div>

</script>
<script id="instanceSnapshotDetailTemplate" type="text/html">
<!--
Description: Instance Snapshot Detail
src: templates/root/nova/snapshots/instanceInstanceDetail.html
-->

<div id="consult_instance_snapshot" class="help_page">

    <div class="entity_consult">
        <div class="entity_detail">
            <div id="instanceSnapshot_details" class="active row-fluid">
                <div class="status span4">
                    <h4>Info</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Name:</strong>&nbsp;<%= model.get('name')%>
                        </li>
                        <li>
                            <strong>ID:</strong>&nbsp;<%= model.get('id')%>
                        </li>
                    </ul>
                </div>
                <div class="status span4">
                    <h4>Status</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Status:</strong>&nbsp;<%=model.get('status')%>
                        </li>
                        <li>
                            <strong>Created:</strong>&nbsp;<%=model.get('created')%>
                        </li>
                        <li>
                            <strong>Updated:</strong>&nbsp;<%= model.get('updated')%>
                        </li>
                    </ul>
                </div>





            </div>
        </div>
    </div>
</div>

</script>
<script id="novaInstanceSnapshotsTemplate" type="text/html">
<!--
Description: Instances Snapshots
src: templates/root/nova/snapshots/instanceSnapshots.html
-->
<div id="instance-snapshots-table"></div>
</script>
<script id="volumeBackupDetailTemplate" type="text/html">
<!--
Description: Volume Backup Detail
src: templates/root/nova/snapshot/volumeInstanceDetail.html
-->

<div id="consult_volume" class="help_page">

    <div class="entity_consult">
        <div class="entity_detail">
            <div id="volumeBackup_details" class="active row-fluid">
                <div class="status span4">
                    <h4>Info</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Name:</strong>&nbsp;<%= model.get("name") %>
                        </li>
                        <li>
                            <strong>ID:</strong>&nbsp;<%= model.get("id") %>
                        </li>
                        <li>
                            <strong>Description:</strong>&nbsp;<%= model.get("description") %>
                        </li>
                    </ul>
                </div>
                <div class="status span4">
                    <h4>Status</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Status:</strong>&nbsp;<%= model.get("status") %>
                        </li>
                        <li>
                            <strong>Size:</strong>&nbsp;<%= model.get("size") %> GB
                        </li>
                        <li>
                            <strong>Created:</strong>&nbsp;<%= model.get("created_at") %>
                        </li>
                    </ul>
                </div>
                <div class="specs span4">
                    <h4>Details</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Container:</strong>&nbsp;<%= model.get("container") %>
                        </li>
                        <li>
                            <strong>Availability Zone:</strong>&nbsp;<%= model.get("availability_zone") %>
                        </li>
                        <li>
                            <strong>Volume:</strong>&nbsp;<%= model.get("volume_id") %>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

</script>
<script id="novaVolumeBackupsTemplate" type="text/html">
<!--
Description: Volume Backups
src: templates/root/nova/backups/volumeBackups.html
-->
    <div id="volume-backups-table"></div>
    <!--
    <div class='table_header'>
        <div class="table_actions clearfix">
            <button id="volume_backups_delete" class='btn btn-small btn-danger btn-delete-group' disabled=true name="action" value="volume_backups__delete" type="submit" data-i18n="Delete Volume Backups">
                Delete Volume Backups
            </button>
        </div>
    </div>
    <table id="volume_backups_head" class="table table-bordered table-striped table-header">
        <thead>
            <tr>
                <td style="width:5%" class="multi_select_column">
                    <input type="checkbox" class="checkbox checkbox_all">
                </td>
                <td style="width:15%" class="tip" data-tooltip="Volume backup's name.">Name</td>
                <td style="width:20%" class="hidden-phone tip" data-tooltip="Volume backup's description.">Description</td>
                <td style="width:10%" class="tip" data-tooltip="Size of the volume backup.">Size</td>
                <td style="width:15%" class="tip" data-tooltip="Current volume backup's status (available, none, ...).">Status</td>
                <td style="width:10%" class="tip" data-tooltip="Identifier of the corresponding Volume.">Volume ID</td>
                <td style="width:25%" class="actions_column hidden-phone">Actions</td>
            </tr>
        </thead>
    </table>
    <div class="scrollable">
        <table id="volume_backups" class="table table-without-margins table-bordered without-borders table-striped table-scrolled">
            <tbody>
                <%  var volBackup = models[index];
                for (var index in models) {
                var volBackup = models[index];
                %>
                <tr id="volume_backups__row__<%= models.length %>" class="">
                    <td style="width:5%" class="multi_select_column">
                        <input type="checkbox" name="object_ids" class="checkbox checkbox_volumes" id="checkbox_<%= volBackup.get('id')%>" value="<%= volBackup.get('id')%>" />
                    </td>
                    <td style="width:15%" class=""><a href="#nova/images_and_backups/<%= volBackup.get('id')%>"><%= volBackup.get('display_name')%></a></td>
                    <td style="width:20%" class="hidden-phone"><%=volBackup.get('display_description')%></td>
                    <td style="width:10%" class=""><%=volBackup.get('size')+" GB"%></td>
                    <td style="width:15%" class=""><%=volBackup.get('status')%></td>
                    <td style="width:10%" class=""><%=volBackup.get('volume_id')%></td>
                    <td style="width:25%" class="actions_column hidden-phone">
                    <button id="volume_backup__action_delete" class="ajax-modal btn btn-small btn-danger btn-delete-volume" value="<%= volBackup.get('id')%>" name="action" type="submit" data-i18n="Delete Volume Backup">
                        Delete Volume Backup
                    </button></td>
                </tr>
                <% } %>
            </tbody>
        </table>
    </div>
    <table id="volume_backups_foot" class="table-foot table table-bordered table-striped table-without-margins">
        <tfoot>
            <tr>
                <td colspan="7"><span class="blue"><%=UTILS.i18n.pluralise("Displaying %s item", "Displaying %s items", models.length)%></span></td>
                </td>
        </tfoot>
    </table>
    -->
</script>
<script id="volumeSnapshotDetailTemplate" type="text/html">
<!--
Description: Volume Snapshot Detail
src: templates/root/nova/snapshots/volumeInstanceDetail.html
-->

<div id="consult_volume" class="help_page">

    <div class="entity_consult">
        <div class="entity_detail">
            <div id="volumeSnapshot_details" class="active row-fluid">
                <div class="status span4">
                    <h4>Info</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Name:</strong>&nbsp;<%= model.get("display_name") %>
                        </li>
                        <li>
                            <strong>ID:</strong>&nbsp;<%= model.get("id") %>
                        </li>
                        <li>
                            <strong>Description:</strong>&nbsp;<%= model.get("display_description") %>
                        </li>
                    </ul>
                </div>
                <div class="status span4">
                    <h4>Status</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Status:</strong>&nbsp;<%= model.get("status") %>
                        </li>
                        <li>
                            <strong>Size:</strong>&nbsp;<%= model.get("size") %> GB
                        </li>
                        <li>
                            <strong>Created:</strong>&nbsp;<%= model.get("created_at") %>
                        </li>
                    </ul>
                </div>
                <div class="specs span4">
                    <h4>Attachments</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <em>Not attached</em>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

</script>
<script id="novaVolumeSnapshotsTemplate" type="text/html">
<!--
Description: Volume Snapshots
src: templates/root/nova/snapshots/volumeSnapshots.html
-->
    <div id="volume-snapshots-table"></div>
    <!--
    <div class='table_header'>
        <div class="table_actions clearfix">
            <button id="volume_snapshots_delete" class='btn btn-small btn-danger btn-delete-group' disabled=true name="action" value="volume_snapshots__delete" type="submit" data-i18n="Delete Volume Snapshots">
                Delete Volume Snapshots
            </button>
        </div>
    </div>
    <table id="volume_snapshots_head" class="table table-bordered table-striped table-header">
        <thead>
            <tr>
                <td style="width:5%" class="multi_select_column">
                    <input type="checkbox" class="checkbox checkbox_all">
                </td>
                <td style="width:15%" class="tip" data-tooltip="Volume snapshot's name.">Name</td>
                <td style="width:20%" class="hidden-phone tip" data-tooltip="Volume snapshot's description.">Description</td>
                <td style="width:10%" class="tip" data-tooltip="Size of the volume snapshot.">Size</td>
                <td style="width:15%" class="tip" data-tooltip="Current volume snapshot's status (available, none, ...).">Status</td>
                <td style="width:10%" class="tip" data-tooltip="Identifier of the corresponding Volume.">Volume ID</td>
                <td style="width:25%" class="actions_column hidden-phone">Actions</td>
            </tr>
        </thead>
    </table>
    <div class="scrollable">
        <table id="volume_snapshots" class="table table-without-margins table-bordered without-borders table-striped table-scrolled">
            <tbody>
                <%  var volSnapshot = models[index];
                for (var index in models) {
                var volSnapshot = models[index];
                %>
                <tr id="volume_snapshots__row__<%= models.length %>" class="">
                    <td style="width:5%" class="multi_select_column">
                        <input type="checkbox" name="object_ids" class="checkbox checkbox_volumes" id="checkbox_<%= volSnapshot.get('id')%>" value="<%= volSnapshot.get('id')%>" />
                    </td>
                    <td style="width:15%" class=""><a href="#nova/images_and_snapshots/<%= volSnapshot.get('id')%>"><%= volSnapshot.get('display_name')%></a></td>
                    <td style="width:20%" class="hidden-phone"><%=volSnapshot.get('display_description')%></td>
                    <td style="width:10%" class=""><%=volSnapshot.get('size')+" GB"%></td>
                    <td style="width:15%" class=""><%=volSnapshot.get('status')%></td>
                    <td style="width:10%" class=""><%=volSnapshot.get('volume_id')%></td>
                    <td style="width:25%" class="actions_column hidden-phone">
                    <button id="volume_snapshot__action_delete" class="ajax-modal btn btn-small btn-danger btn-delete-volume" value="<%= volSnapshot.get('id')%>" name="action" type="submit" data-i18n="Delete Volume Snapshot">
                        Delete Volume Snapshot
                    </button></td>
                </tr>
                <% } %>
            </tbody>
        </table>
    </div>
    <table id="volume_snapshots_foot" class="table-foot table table-bordered table-striped table-without-margins">
        <tfoot>
            <tr>
                <td colspan="7"><span class="blue"><%=UTILS.i18n.pluralise("Displaying %s item", "Displaying %s items", models.length)%></span></td>
                </td>
        </tfoot>
    </table>
    -->
</script>
<script id="volumeDetailTemplate" type="text/html">
<!--
Description: Volume Detail
src: templates/root/nova/volumeDetail.html
-->

<div id="consult_volume" class="help_page">

    <div class="entity_consult">
        <div class="entity_detail">
            <div id="volume_details" class="active row-fluid">
                <div class="status span4">
                    <h4>Info</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Name:</strong>&nbsp;<%= model.get("display_name") %>
                        </li>
                        <li>
                            <strong>ID:</strong>&nbsp;<%= model.get("id") %>
                        </li>
                        <li>
                            <strong>Description:</strong>&nbsp;<%= model.get("display_description") %>
                        </li>
                    </ul>
                </div>
                <div class="status span4">
                    <h4>Status</h4>
                    <hr class="header_rule">
                    <ul>
                        <li>
                            <strong>Status:</strong>&nbsp;<%= model.get("status") %>
                        </li>
                        <li>
                            <strong>Size:</strong>&nbsp;<%= model.get("size") %> GB
                        </li>
                        <li>
                            <strong>Volume type:</strong>&nbsp;<%= model.get("volume_type") %>
                        </li>
                        <li>
                            <strong>Availability zone:</strong>&nbsp;<%= model.get("availability_zone") %>
                        </li>
                        <li>
                            <strong>Created:</strong>&nbsp;<%= model.get("created_at") %>
                        </li>
                    </ul>
                </div>
                <div class="specs span4">
                    <h4>Attachments</h4>
                    <hr class="header_rule">
                    <ul>
                    <%
                    if (model.get("attachments").length === 0) {
                    %>
                        <li>
                            <em>Not attached</em>
                        </li>
                    <%
                    } else {
                        for (var a in model.get("attachments")) {
                    %>
                        <li>
                            Attached to <em><%=model.get("attachments")[a].server_id%></em> in <em><%=model.get("attachments")[a].device%></em>
                        </li>
                    <%
                        }
                    }
                    %>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

</script>
<script id="novaVolumesTemplate" type="text/html">
<!--
Description: Volumes
src: templates/root/nova/volumes.html
-->
    <div id="volumes-table"></div>
</script>
<script id="whiteListTemplate" type="text/html">
    <div id="whitelist" style="position:absolute;height:100%; overflow:auto">

            <div id="w_whitelist-table"></div>

        <form id="w_whitelist_form" onsubmit="return false" style="border-top: 1px solid #f5f5f5">
               <div>
                <span class="pull-left"><h5>增加规则</h5></span>
               </div>

                <table class="table table-without-margins without-borders table-striped table-scrolled ov" >
                    <tr>
                        <td >ID/名称</td>
                        <td >URL</td>
                        <td >操作</td>
                    </tr>
                    <tr>
                        <td>
                            *<input type="text"  name="ip" required style="width: 80%" placeholder="必填" />
                        </td>
                        <td>
                           * <input type="text"  name="url" required style="width: 80%" placeholder="必填" />
                        </td>
                        <td>
                            <input type="submit" id="w_whiteList_add" class="btn btn-blue" value="增加"  >
                        </td>
                    </tr>
                     <tr>
                        <td>
                           * 必填
                        </td>
                        <td>

                        </td>
                        <td>

                        </td>
                    </tr>
                </table>
        </form>
    </div>
</script>
<script id="objectstorageContainerTemplate" type="text/html">
<!--
Description: Container
src: templates/root/objectstorage/container.html
-->
<div id="container-table"></div>


</script>
<script id="objectstorageContainersTemplate" type="text/html">
<!--
Description: Containers
src: templates/root/objectstorage/containers.html
-->
    <div id="containers-table"></div>
</script>
<script id="rootTemplate" type="text/html">
<!--
Description: Root page. User is already logged in.
src: templates/root/root.html
-->
<div id='topbar' class="topbar"></div>
<div id="container" class="container-fluid row-fluid container-view">


    <div class="span2 sidebar-menu">
        <div id="navtab"></div>

    </div>

    <div id='main_content' class="span10">
        <div id='content'></div>
        <div id='logs'>
            <div id="log-messages"></div>
            <i id="message-resize-icon" class="icon-resize-full float-right"></i>
        </div>
    </div>
</div>
<!--<hr class="soften clear">-->
<footer class="footer row-fluid span12 hidden-phone hidden-tablet">
    <div class="footer-ot">
        <div class="menu span12" style="padding-left: 30px;">
            <p>
                2015 &copy <a href="http://www.fiware.org/" target="_blank">FIWARE</a>. The use of FIWARE Lab services is subject to the acceptance of the <a href="https://forge.fiware.org/plugins/mediawiki/wiki/fiware/index.php/FIWARE_LAB_Terms_and_Conditions" target="_blank">Terms and Conditions</a>, <a href="http://forge.fiware.org/plugins/mediawiki/wiki/fiware/index.php/FIWARE_Privacy_Policy" target="_blank">Privacy Policy</a> and <a href="http://forge.fiware.org/plugins/mediawiki/wiki/fiware/index.php/Cookies_Policy_FIWARE" target="_blank">Cookies Policy</a>
            </p>
        </div>
    </div>
</footer>

</script>

<script id="settingsTemplate" type="text/html">
<div id="language_settings_modal" class="static_page">
    <!--
    Description: Settings
    src: templates/root/settings.html
    -->
    <div class="modal-header">
        <h3 data-i18n='Select Language'>Select Language</h3>
    </div>
    <div class="modal-body clearfix">
        <div class="left">
            <h3 data-i18n="Dashboard User Interface Language">Dashboard User Interface Language</h3>
            <fieldset>
                <label for="language_select" data-i18n="Language Settings">Language Settings</label>
                <div class="input">
                    <p>
                        <select name="language">
                            <option selected="" value="en">English (en)</option>
                            <option value="es">Español (es)</option>
                            <option value="fr">Français (fr)</option>
                            <option value="mk">Mакедонски (mk)</option>
                        </select>
                    </p>
                </div>
            </fieldset>
        </div>
        <div class="right">
            <h3 data-i18n='Description'>Description</h3>
            <p data-i18n="From here you can modify different settings for your dashboard.">
                From here you can modify different settings for your dashboard.
            </p>
        </div>
    </div>
    <div class="modal-footer">
        <a id="select" class="btn btn-blue" data-i18n="Select Language">Select Language</a>
    </div>
</div>
</script>
<script id="sideBarTemplate" type="text/html">
<!--
Description: Side Bar
src: templates/root/sideBar.html
-->
<div class="menuv">
    <div id="sideBarTitle" class="sideBarTitle" data-i18n="<%= title %>">
        <%=title%>
    </div>

    <% if (showTenants) { %>
    <div class="tenant_switch">
        <select id="tenant_switcher" tabindex="1" class="inline">
            <% for (var index in loginModel.get("tenants")) {
            var ten = loginModel.get("tenants")[index];
            %>
            <option value="#auth/switch/<%= ten.id%>/" <%
            if (loginModel.get("tenant_id") == ten.id) {
            %>selected="selected" <%}%>><%= ten.name%></option>
            <%}%>
        </select>
    </div>
    <!--<button onclick="" class="btn btn-default btn-openrc"><i id="project_info_icon" class="icon-info-sign"></i><span>Info</span></button>-->
    <button onclick="" class="btn btn-default btn-openrc"><i id="project_info_icon" class="icon-info-sign"></i><span>信息</span></button>
    <% } %>
</div>
<ul class="main_nav">
    <% for (var index in models) {
    var model = models[index];
    %>
    <li class="<%= (model.get('type') === 'title') ? 'section': ''%>">
        <% if (model.get('type') === 'title') { %>
        <%= model.get('name') %>
        <% } else if (model.get('type') === 'regions') { %>

        <div class="region_switch">
            <select id="region_switcher" tabindex="1" class="chosen-select">
                <% for (var index in loginModel.get('regions')) {
                var reg = loginModel.get('regions')[index];
                %>
                <option value="#reg/switch/<%= reg%>/"<%
                if (loginModel.get("current_region") == reg) {
                %>selected="selected" <%}%>><%= reg%></option>
                <%}%>
            </select>
        </div>
        <% } else { %>
        
        <!--<span class="icon <%=model.get('iconcss')%> <% if(model.get('active')) { %>active<% } %>"/>!--><a href="<%= model.get('url') %>" <% if(model.get('active')) { %> class="active <%=model.get('css')%> <%=model.get('iconcss')%>" <% } else { %>class="<%=model.get('css')%> <%=model.get('iconcss')%>" <% } %> tabindex='1' data-i18n="<%= model.get('name') %>"><%= model.get('name') %></a>
        <% } %>

    </li>
    <% } %>
</ul>
</section>

</script>

<script id="smalltableTemplate" type="text/html">
    <div class="table_container">
        <h5><%= title%></h5>
        <table class="table table-bordered table-striped table-header">
            <thead>
            <%= table_header %>
            </thead>
        </table>
        <table class="table table-without-margins without-borders table-striped table-scrolled ov">
           <tbody>
           <%= table_body %>
           </tbody>
        </table>
    </div>
</script>
<script id="flavorsTemplate" type="text/html">
<!--
Description: Flavors
src: templates/root/sys/flavors.html
-->
<div id="flavors">
    <div id="flavors-table">
    </div>
</div>
</script>
<script id="imagesTemplate" type="text/html">
<!--
Description: Images
src: templates/root/sys/images.html
-->
<div id="images">
    <div id="images-table"></div>
</div>
</script>
<script id="newUsersTemplate" type="text/html">
<!--
Description: New Users
src: templates/root/sys/newUsers.html
-->
<div id="add_new_users">
    <div class='table_header'>
        <div class="table_actions clearfix">

            <div class="table_search">
                <input class="inline" value="" type="text" name="users__filter__q" />
                <button type="submit" class="btn btn-small btn-blue inline-block filter" data-i18n="Filter">
                    Filter
                </button>
            </div>

            <button class="btn btn-small btn-blue btn-create" data-i18n="Create User">Create User</a>

            <button class='btn btn-small btn-danger btn-delete-group' id='users_delete' disabled="disabled" name="action" value="users__delete" type="submit" data-i18n="Delete Users">
                Delete Users
            </button>

        </div>

    </div>

    <table id="users" class="table table-bordered table-striped">
        <thead>
            <tr>

                <th class="multi_select_column">
                	<input type="checkbox" class="checkbox checkbox_all">
                </th>

                <th class="" data-i18n="Id">Id</th>

                <th class="" data-i18n="Name">Name</th>

                <th class="" data-i18n="Email">Email</th>

                <th class="" data-i18n="Enabled">Enabled</th>

                <th class="actions_column hidden-phone" data-i18n="Actions">Actions</th>

            </tr>
        </thead>
        <tbody>
            <tr id="users__row__" class="">
                <td class="multi_select_column">
                <input type="checkbox" name="object_ids" class="checkbox checkbox_users" value="1" />
                </td>
                <td class="">1</td>
                <td class="">admin</td>
                <td class="">None</td>
                <td class="status_up">True</td>
                <td class="actions_column hidden-phone">
                <div class="btn-group">

                    <button class="btn btn-small btn-blue btn-edit" data-i18n="Edit">Edit</button>

                    <a class="btn dropdown-toggle btn-small btn-blue" data-toggle="dropdown" href="#"> <span class="caret caret-white"></span> </a>
                    <ul class="dropdown-menu row_actions clearfix">

                        <li class="clearfix">

                            <button  class="btn btn-small btn-disable" name="action" value="users__disable__1" type="submit" data-i18n="Disable">
                                Disable
                            </button>

                        </li>

                        <li class="clearfix">

                            <button  class="btn btn-small btn-danger btn-delete" name="action" value="tenants__delete__4" type="submit" data-i18n="Delete User">
                                Delete User
                            </button>

                        </li>

                    </ul>

                </div></td>
            </tr>

        </tbody>
        <tfoot>
            <tr>
                <td colspan="6"><span class="blue"><%=UTILS.i18n.pluralise("Displaying %s item", "Displaying %s items", 1)%></span></td>
                </td>
        </tfoot>
    </table>
 </div>
</script>
<script id="projectsTemplate" type="text/html">
<!--
Description: Projects
src: templates/root/sys/projects.html
-->
    <div id="projects-table">

    </div>

</script>
<script id="quotasTemplate" type="text/html">
<!--
Description: Quotas
src: templates/root/sys/quotas.html
-->
<div id="quotas-table"></div>
</script>
<script id="servicesTemplate" type="text/html">
<!--
Description: Services
src: templates/root/sys/services.html
-->
<form action="#">
    <div class='table_header'>
        <div class="table_actions clearfix">

            <div class="table_search">
                <input class="inline" value="" type="text" name="services__filter__q" />
                <button type="submit" class="btn btn-blue btn-small filter inline-block" data-i18n="Filter">
                    Filter
                </button>
            </div>

        </div>

    </div>

    <table id="services" class="table table-bordered table-striped">
        <thead>
            <tr>

                <th class="hide" data-i18n="Id">Id</th>

                <th class="" data-i18n="Name">Name</th>

                <th class="" data-i18n="Service">Service</th>

                <th class="" data-i18n="Host">Host</th>

                <th class="" data-i18n="Enabled">Enabled</th>

            </tr>
        </thead>
        <tbody>
            <%
            var re = new RegExp('^(?:f|ht)tp(?:s)?\://([^/:]+)', 'im');
            for (var index in models) {
            var service = models[index];
            %>
            <tr id="services__row__0" class="status_up">
                <td class="hide">-</td>
                <td class=""><%= service.get('name')%></td>
                <td class=""><%= service.get('type')%></td>
                <td class=""><%= service.get('endpoints')[0].publicURL.match(re)[1].toString()%></td>
                <td class="status_up" data-i18n="Enabled">Enabled</td>
            </tr>
            <%}%>
        </tbody>
        <tfoot>
            <tr>
                <td colspan="4"><span class="blue"><%=UTILS.i18n.pluralise("Displaying %s item", "Displaying %s items", models.length)%></span></td>
                </td>
        </tfoot>
    </table>

</form>
</script>
<script id="usersTemplate" type="text/html">
<!--
Description: Users
src: templates/root/sys/users.html
-->
<div id="users-table"></div>

<!--
    <div class='table_header'>
        <div class="table_actions clearfix">

            <button class="btn btn-small btn-blue btn-create" data-i18n="Create User">Create User</button>
            <div id="dropdown_actions" class="btn-group">

                    <button class="btn btn-small btn-blue" data-toggle="dropdown" tdata-i18n="Actions">Actions</button>

                    <a class="btn dropdown-toggle btn-small btn-blue" data-toggle="dropdown"> <span class="caret caret-white"></span>
                    </a>
                    <ul id="dropdown_options" class="dropdown-menu row_actions clearfix">

                        <li class="clearfix">

                            <button  class="btn btn-small btn-edit-actions"  disabled="disabled" data-i18n="Edit User">
                                Edit User
                            </button>
                        </li>

                        <li class="clearfix">
                            <button  class="btn btn-small btn-enable-actions" disabled="disabled" data-i18n="Enable Users">
                                Enable Users
                            </button>

                        </li>

                        <li class="clearfix">

                            <button  class="btn btn-small btn-disable-actions" disabled="disabled" data-i18n="Disable Users">
                                Disable Users
                            </button>
                        </li>

                        <li class="clearfix danger">

                            <button  class="btn btn-small btn-danger btn-delete-actions" disabled="disabled" data-i18n="Delete Users">
                                Delete Users
                            </button>

                        </li>

                    </ul>

            </div>

        </div>

    </div>

    <table id="users_head" class="table table-bordered table-striped table-header">
        <thead>
            <tr>

                <td style="width:5%" class="multi_select_column">
                	<input type="checkbox" class="checkbox checkbox_all">
                </td>

                <td style="width:35%" class="tip" data-tooltip="User's name." data-i18n="Name">Name</td>

                <td style="width:35%" class="tip" data-tooltip="User's email address" data-i18n="Email">Email</td>

                <td style="width:10%" class="tip" data-tooltip="Check if the user is enabled." data-i18n="Enabled">Enabled</td>

                <td style="width:15%" class="actions_column hidden-phone" data-i18n="Actions">Actions</td>

            </tr>
        </thead>
    </table>
        <div class="scrollable">
            <table id="users" class="table table-without-margins table-bordered without-borders table-striped table-scrolled">
            <tbody>
                <% for (var index in models) {
                var user = models[index];
                %>
                <tr id="users__row__" class="">
                    <td style="width:5%" class="multi_select_column">
                        <input id="checkbox_<%= user.get('id') %>" type="checkbox" name="object_ids" class="checkbox checkbox_users" value="<%= user.get('id') %>" />
                    </td>
                    <td style="width:35%" class=""><%= user.get('name')%></td>
                    <td style="width:35%" class=""><%= user.get('email')%></td>
                    <td style="width:10%" class="status_up"><%= user.get('enabled')%></td>
                    <td style="width:15%" class="actions_column hidden-phone">
                    <div class="btn-group">

                        <button class="btn btn-small btn-blue btn-edit" value="<%=user.get('id')%>" tdata-i18n="Edit">Edit</button>

                        <a class="btn dropdown-toggle btn-small btn-blue" data-toggle="dropdown" href="#"> <span class="caret caret-white"></span> </a>
                                            <ul class="dropdown-menu row_actions clearfix">

                        <li class="clearfix">
                            <% if (user.get("enabled")) {
                                %>
                            <button  class="btn btn-small btn-disable" name="action" value="<%=user.get('id')%>" type="submit" data-i18n="Disable">
                                Disable
                            </button>
                            <% } else { %>
                            <button  class="btn btn-small btn-enable" name="action" value="<%=user.get('id')%>" type="submit" data-i18n="Enable">
                                Enable
                            </button>
                            <% } %>

                        </li>

                        <li class="clearfix">

                            <button  class="btn btn-small btn-danger btn-delete" name="action" value="<%=user.get('id')%>" type="submit" data-i18n="Delete User">
                                Delete User
                            </button>

                        </li>

                    </ul>

                    </div>
                </td>
                </tr>

                <% }
                %>

            </tbody>
        </table>
    </div>
    <table id="users_foot" class="table-foot table table-bordered table-striped table-without-margins">
        <tfoot>
            <tr>
                <td colspan="5"><span class="blue"><%=UTILS.i18n.pluralise("Displaying %s item", "Displaying %s items", models.length)%></span></td>
                </td>
        </tfoot>
    </table>
    -->
</script>
<script id="usersForProjectTemplate" type="text/html">
<!--
Description: Users for Project
src: templates/root/sys/usersForProject.html
-->
<div id="users_for_project" class="row-fluid fill-height">
    <div class="span6 fill-height">
        <h2>Users in Project</h2>
        <div id="new-users-table"></div>
    </div>
    <div class="separation span1 fill-height">
        <br/>
        <button id="gthan">&gt</button>
        <br/>
        <button id="lthan">&lt</button>
    </div>
    <div class="span5 fill-height">
        <h2>All Users</h2>
        <div id="all-users-table"></div>
    </div>

</div>
</script>
<script id="tableTiersTemplate" type="text/html">
<!--
Description: Table Tiers
src: templates/root/table-tiers.html
-->
<div class="table_container">
<div class='table_header'>
    <div class="table_actions clearfix">
        <%
          var checkbox_enabled = false;
          var checkbox_size = "0%";
          for (var btn_idx in main_buttons) {
            var main_button = main_buttons[btn_idx];
            if (main_button.url) {
        %>
            <a href='<%=main_button.url%>'  class="btn btn-small btn-blue btn_action <%= (main_button.cssclass) ? main_button.cssclass:''%>" data-i18n="<%=main_button.label%>"><%=main_button.label%></a>
            <% } else { %>
            <button id="<%=btn_idx%>_<%=cid%>_main" class="btn btn-small btn-blue btn-main btn-main-<%=cid%> <%= (main_button.cssclass) ? main_button.cssclass:''%>" data-i18n="<%=main_button.label%>"><%=main_button.label%></button>
        <%  }
          }
        %>

    </div>
</div>
<div class="scrollable scrollable_<%=cid%>">
<div class="vp">
<table id="table_entries" class="table table-without-margins without-borders table-striped table-scrolled ov">
    <tbody>
        <%
            for (var entry_idx in entries) {
                var entry = entries[entry_idx];
        %>
        <tr id="entries__row__<%= entry.id %>" class="ajax-update status_down tier-row">

            <td style="width:25%" class="entry_<%=entry.id%> circle_progress">
                <div class="progress-wgt">
                    <input class="dial" data-width="140" data-height="160" data-offset="25" data-min="<%=entry.minValue%>" data-max="<%=entry.maxValue%>" <%=(entry.currentValue) ? 'data-currentvalue="'+entry.currentValue+'"':'' %> data-displayinput="false" data-displayprevious="false" value="<%=entry.bootValue%>" data-thickness="0.12" data-readonly="true" data-fgcolor="<%=color%>" data-bgcolor="<%=color2%>" data-linecolor="#999">
                    <div class="circle-progress-data">
                        <label class="tier-min-value"><%=entry.minValue%></label>
                        <label class="tier-max-value"><%=entry.maxValue%></label>
                        <% if (!entry.icono || entry.icono === "" || entry.icono === "icono" || entry.icono.toString() === "[object Object]") { %><span class="tier-image-back">?</span>
                        <% } else { %>
                        <div class="image-container">
                            <table id="wrapper">
                              <tr>
                                 <td><img class="tier-image" src=<%=entry.icono%>></img></td>
                              </tr>
                            </table>
                        </div>
                        <% } %>
                    </div>
                </div>
            </td>

            <td style="width:25%" class="entry_<%=entry.id%> tier_info">
                <div class="tier-data">
                    <p><strong>Name:</strong> <span><%=entry.name%></span></p>
                    <p><strong>Flavor:</strong> <span><%=entry.flavor%></span></p>
                    <p><strong>Image:</strong> <span><%=entry.image%></span></p>
                    <%if (entry.keypair) {%><p><strong>Keypair:</strong> <span><%=entry.keypair%></span></p><%}%>
                    <%if (entry.publicIP && JSTACK.Keystone.getendpoint(UTILS.Auth.getCurrentRegion(), "network") === undefined) {%><p><strong>Public IP:</strong> <span><%=entry.publicIP%></span></p><%}%>
                    <%if (entry.region) {%><p><strong>Region:</strong> <span><%=entry.region%></span></p><%}%>
                </div>
                <div class="tier-icons">
                    <%
                        for (var action_idx in actions) {
                            var action = actions[action_idx];
                    %>
                        <button id="<%=action_idx%>_<%=cid%>_actions" class="tip fi-icon-actions-<%=cid%> fi-icon-actions <%= action.icon%>" data-tooltip="<%=action.tooltip%>"/>
                    <% } %>
                </div>
            </td>

            <td style="width:50%" class="entry_<%=entry.id%> tier_software">
            <h2 style="color: <%=color%>">Software in Tier</h2>
                <div id="software-subview-<%= entry.id %>" class="software-tier">
                   <ul>
                        <%
                        entry.products.forEach(function(product) {
                        %>
                            <li><%=product%></li>
                        <%
                        });
                        %>
                   </ul>
               </div>
            </td>
        </tr>
        <% } %>
    </tbody>
    </table>
    <div class="scrollbar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>
    </div>
</div>
<table id="table_foot" class="table-foot table table-bordered table-striped table-without-margins">
    <tfoot>
        <tr>
            <td colspan="8"><span class="blue"><%=UTILS.i18n.pluralise("Displaying %s item", "Displaying %s items", entries.length)%></span></td>
        </tr>
    </tfoot>
</table>
</div>
</script>
<script id="tableTemplate" type="text/html">
<!--
Description: Table
src: templates/root/table.html
-->
<div class="table_container">
<div class='table_header <%=actionsClass%>'>
    <div class="table_actions clearfix">
        <%
          var checkbox_enabled = false;
          var checkbox_size = "0%";
          var dropdown_buttons_class = dropdown_buttons_class || undefined;

          for (var header_idx in headers) {
              var header = headers[header_idx];
              if (header.type === "checkbox") {
                checkbox_enabled = true;
                checkbox_size = header.size;
              }
          }

          for (var btn_idx in main_buttons) {
            var main_button = main_buttons[btn_idx];
            if (main_button.url) {
        %>
            <a href='<%=main_button.url%>'  class="btn btn-small btn-blue btn_action <%= (main_button.cssclass) ? main_button.cssclass:''%>" data-i18n="<%=main_button.label%>"><%=main_button.label%></a>
            <% } else { %>
            <button id="<%=btn_idx%>_<%=cid%>_main" class="btn btn-small btn-blue btn-main btn-main-<%=cid%> <%= (main_button.cssclass) ? main_button.cssclass:''%>" data-i18n="<%=main_button.label%>"><%=main_button.label%></button>
        <%  }
          }
          if (dropdown_buttons.length > 0) {

        %>

        <div id="dropdown_actions" class="btn-group dropdown_actions_<%=cid%>">

            <button class="btn btn-small btn-blue <%= (dropdown_buttons_class) ? dropdown_buttons_class: ''%>" data-toggle="dropdown" data-i18n="Actions">Actions
            </button>

            <a class="btn dropdown-toggle btn-small btn-blue <%= (dropdown_buttons_class) ? dropdown_buttons_class: ''%>" data-toggle="dropdown"> <span class="caret caret-white"></span>
            </a>

                <ul id="dropdown_options" class="dropdown-menu row_actions clearfix">
        <%
            for (var btn_idx in dropdown_buttons) {
                var dropdown_button = dropdown_buttons[btn_idx];
        %>
                    <li class="clearfix">
                        <button id="<%=btn_idx%>_<%=cid%>" class="btn btn-small btn-action btn-action-<%=cid%> <%=(dropdown_button.warn) ? 'btn-danger':''%>" disabled="disabled" data-i18n="<%=dropdown_button.label%>"><%=dropdown_button.label%></button>
                    </li>
        <%
            }
        %>
                </ul>

            </div>
        <%
          }
        %>
    </div>
</div>

<div class="scrollable scrollable_<%=cid%> <%=bodyClass%>">
<div class="vp">
<table id="table_entries" class="table table-without-margins without-borders table-striped table-scrolled ov">
    <tbody>
        <%
        if (entries === 'loading') {
        %>
        <tr id="entries__row__loading" class="ajax-update status_down">
        <td style="width:100%" class="">Loading items...</td>
        </tr>
        <%

        } else {

            for (var entry_idx in entries) {
                var entry = entries[entry_idx];
        %>
        <tr id="entries__row__<%= entry.id %>" <% if (droppable||draggable) { %>draggable="true"<% } %> class="ajax-update status_down tr" <% if (!disableContextMenu) { %> data-toggle="context" data-target="#context-menu-<%=cid%>" style="position:relative" <% } %>>

        <%
            var offset = 0;
            if (checkbox_enabled) {
                offset = 1;
        %>
            <td style="width:<%= checkbox_size%>" class="multi_select_column entry_<%=cid%>">
                <input id="checkbox_<%= entry.id%>" type="checkbox" name="object_ids" class="checkbox checkbox_entries checkbox_entries_<%=cid%>"  value="<%= entry.id%>" />
                <label for="checkbox_<%= entry.id%>"></label>
            </td>
        <%  }
            for (var cell_idx in entry.cells) {
                var cell = entry.cells[cell_idx];
                var header_idx = parseInt(cell_idx)+parseInt(offset);
                var header = headers[header_idx];
                if (cell.link) {
        %>
            <td style="width:<%=header.size%>" class="<%=(header.hidden_tablet) ? 'hidden-tablet':''%> <%=(header.hidden_phone) ? 'hidden-phone':''%> entry_<%=cid%> <%= (cell.cssclass) ? cell.cssclass:''%> <%if(cell.tooltip){%> tip" data-tooltip="<%=cell.tooltip%>"<%}else{%>"<%}%>><a href="<%=cell.link%>" class="<%= (cell.cssclass) ? cell.cssclass:''%>"><%= cell.value %></a></td>
        <%
                } else {
        %>
            <td style="width:<%=header.size%>" class="<%=(header.hidden_tablet) ? 'hidden-tablet':''%> <%=(header.hidden_phone) ? 'hidden-phone':''%> entry_<%=cid%> <%= (cell.cssclass) ? cell.cssclass:''%> <%if(cell.tooltip){%> tip" data-tooltip="<%=cell.tooltip%>"<%}else{%>"<%}%>><%= cell.value %></td>
        <%
            }
        %>
        <%
            }
        %>
        </tr>
        <% }
    } %>
    </tbody>
    </table>
</div>
<div class="scrollbar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>
</div>

<table id="table_head" class="table table-bordered table-striped table-header <%=headerClass%>">
    <thead>
        <tr>
            <%
            var colNum = 0;
            for (var header_idx in headers) {
                var header = headers[header_idx];
                if (header.type === "checkbox") {
                    checkbox_enabled = true;
                    checkbox_size = header.size;
            %>
                <td style="width:<%=header.size%>" class="multi_select_column">
                    <input id="checkbox_<%= cid%>" type="checkbox" class="checkbox checkbox_all checkbox_all_<%=cid%>">
                    <label for="checkbox_<%= cid%>"></label>
                </td>
            <%  } else if (header.order === 'none') {
            %>
                <td style="width:<%=header.size%>;" class="tip <%= (header.hidden_tablet) ? 'hidden-tablet':''%> <%=(header.hidden_phone) ? 'hidden-phone':''%> <%= (header.cssclass) ? header.cssclass:''%>" data-tooltip="<%=header.tooltip%>" data-i18n="<%=header.name%>"><%=header.name%>
                </td>
            <%
                colNum++;

                } else {

            %>
                    <td id="header_id_<%=colNum%>" style="width:<%=header.size%>;" class="tip <%= (header.hidden_tablet) ? 'hidden-tablet':''%> <%=(header.hidden_phone) ? 'hidden-phone':''%> <%= (header.cssclass) ? header.cssclass:''%>" data-tooltip="<%=header.tooltip%>">
                    <div class="header_entry_<%=cid%> <%= (header.cssclass) ? header.cssclass:''%>" style="float:left;cursor:pointer;" data-i18n="<%=header.name%>"><%=header.name%></div>
            <%

                    if (colNum === orderBy.column) {
            %>

                    <button class="header_entry_<%=cid%> table_icon table_icon_active_<%=orderBy.direction%>"></button>
                    </td>
            <%
                    } else {
            %>
                    <button class="header_entry_<%=cid%> table_icon table_icon_inactive"></button>
                    </td>
            <%
                    }
                    colNum++;
                }
            }
            %>
        </tr>
    </thead>
</table>
<!--
<div class="scrollable scrollable_<%=cid%> <%=bodyClass%>">
<table id="table_entries" class="table table-without-margins without-borders table-striped table-scrolled">
    <tbody>
        <%
        if (entries === 'loading') {
        %>
        <tr id="entries__row__loading" class="ajax-update status_down">
        <td style="width:100%" class="">Loading items...</td>
        </tr>
        <%

        } else {

            for (var entry_idx in entries) {
                var entry = entries[entry_idx];
        %>
        <tr id="entries__row__<%= entry.id %>" class="ajax-update status_down" <% if (!disableContextMenu) { %> data-toggle="context" data-target="#context-menu-<%=cid%>" style="position:relative" <% } %>>

        <%
            var offset = 0;
            if (checkbox_enabled) {
                offset = 1;
        %>
            <td style="width:<%= checkbox_size%>" class="multi_select_column entry_<%=cid%>">
                <input id="checkbox_<%= entry.id%>" type="checkbox" name="object_ids" class="checkbox checkbox_entries checkbox_entries_<%=cid%>"  value="<%= entry.id%>" />
                <label for="checkbox_<%= entry.id%>"></label>
            </td>
        <%  }
            for (var cell_idx in entry.cells) {
                var cell = entry.cells[cell_idx];
                var header_idx = parseInt(cell_idx)+parseInt(offset);
                var header = headers[header_idx];
                if (cell.link) {
        %>
            <td style="width:<%=header.size%>" class="<%=(header.hidden_tablet) ? 'hidden-tablet':''%> <%=(header.hidden_phone) ? 'hidden-phone':''%> entry_<%=cid%> <%= (cell.cssclass) ? cell.cssclass:''%>"><a href="<%=cell.link%>" class="<%= (cell.cssclass) ? cell.cssclass:''%>"><%= cell.value %></a></td>
        <%
                } else {
        %>
            <td style="width:<%=header.size%>" class="<%=(header.hidden_tablet) ? 'hidden-tablet':''%> <%=(header.hidden_phone) ? 'hidden-phone':''%> entry_<%=cid%> <%= (cell.cssclass) ? cell.cssclass:''%>"><%= cell.value %></td>
        <%
            }
        %>
        <%
            }
        %>
        </tr>
        <%
            }
        }%>
    </tbody>
    </table>
</div>
-->
<table id="table_foot" class="table-foot table table-bordered table-striped table-without-margins <%=footerClass%>">
    <tfoot>
        <tr>
            <td colspan="8"><span class="blue"><%=UTILS.i18n.pluralise("Displaying %s item", "Displaying %s items", entries.length)%></span></td>
        </tr>
    </tfoot>
</table>
<% if (!disableContextMenu) { %>
<div id="context-menu-<%=cid%>" class="btn-group">
  <ul class="dropdown-menu" role="menu" class="clearfix">
    <%
        for (var btn_idx in dropdown_buttons) {
            var dropdown_button = dropdown_buttons[btn_idx];
    %>
            <li class="clearfix"><button id="<%=btn_idx%>_<%=cid%>" tabindex="-1" data-i18n="<%=dropdown_button.label%>" class="btn btn-small btn-<%=cid%> <%=(dropdown_button.warn) ? 'btn-danger':''%>"><%=dropdown_button.label%></button></li>
    <%
        }
    %>
  </ul>
</div>
<% } %>
</div>
</script>
<script id="topBarTemplate" type="text/html">
<!--
Description: Top Bar
src: templates/root/topBar.html
-->

<%
    if (!UTILS.Auth.isIDM()) {
%>

<div id="user_info" class="pull-right">
    <span id="user_info_name" class="icon_nav-project"><%= get('username') %></span> <a class="top-icon icon_nav-settings" href="#settings/"></a>
    <a href="#auth/logout" class="top-icon icon_nav-logout">Sign Out</a>
</div>

<%
}
%>

<div class="header hidden-tablet hidden-phone">
    <div class="header row-fluid">
<%
    if (!UTILS.Auth.isIDM()) {
%>
        <div class="logo span2">
            <div class="brand"></div>
            <h2><a href="#home/"><span class="link-logo">fi-ware</span></a></h2>
            <h2 class="dashboard"> Dashboard</h2>
        </div>
<%
}
%>
        <div id="page-title" class="big-tittle inline-block span10 offset2 page-header">
        </div>
        <div class="hidden-desktop">
            <div class="space-double"></div>
        </div>
    </div>
</div>

</script>

<script id="userTemplate" type="text/html">
<ul id="userbar" class="nav pull-right nav-user">
  <li>
    <a href="#">
      <% if (get('gravatar')) { %>
      <img src="https://www.gravatar.com/avatar/<%=get('gravatar')%>">
      <%} else {%>
      <img src="images/header/user.png">
      <%}%>
      <span class="name">
        <%= get('username') %>
      </span>
    </a>
  </li>
</ul>
</script>